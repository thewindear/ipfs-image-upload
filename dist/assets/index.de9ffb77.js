const p$1=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};p$1();function makeMap(e,t){const r=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return t?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function normalizeStyle(e){if(isArray(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=isString(n)?parseStringStyle(n):normalizeStyle(n);if(o)for(const s in o)t[s]=o[s]}return t}else{if(isString(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(e){const t={};return e.split(listDelimiterRE).forEach(r=>{if(r){const n=r.split(propertyDelimiterRE);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let r=0;r<e.length;r++){const n=normalizeClass(e[r]);n&&(t+=n+" ")}else if(isObject(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject(t)&&!isArray(t)&&!isPlainObject(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},toNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const o=t[n];wasTracked(o)&&!newTracked(o)?o.delete(e):t[r++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,r){if(shouldTrack&&activeEffect){let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=createDep()),trackEffects(o)}}function trackEffects(e,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,r=!wasTracked(e)):r=!e.has(activeEffect),r&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,r,n,o,s){const a=targetMap.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(r==="length"&&isArray(e))a.forEach((u,d)=>{(d==="length"||d>=n)&&c.push(u)});else switch(r!==void 0&&c.push(a.get(r)),t){case"add":isArray(e)?isIntegerKey(r)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap(e)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(c.push(a.get(ITERATE_KEY)),isMap(e)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const u=[];for(const d of c)d&&u.push(...d);triggerEffects(createDep(u))}}function triggerEffects(e,t){const r=isArray(e)?e:[...e];for(const n of r)n.computed&&triggerEffect(n);for(const n of r)n.computed||triggerEffect(n)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(n,"get",s+"");const o=n[t](...r);return o===-1||o===!1?n[t](...r.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking();const n=toRaw(this)[t].apply(this,r);return resetTracking(),n}}),e}function createGetter(e=!1,t=!1){return function(n,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(n))return n;const a=isArray(n);if(!e&&a&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);const c=Reflect.get(n,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(e||track(n,"get",o),t)?c:isRef(c)?a&&isIntegerKey(o)?c:c.value:isObject(c)?e?readonly$2(c):reactive(c):c}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(r,n,o,s){let a=r[n];if(isReadonly(a)&&isRef(a)&&!isRef(o))return!1;if(!e&&!isReadonly(o)&&(isShallow(o)||(o=toRaw(o),a=toRaw(a)),!isArray(r)&&isRef(a)&&!isRef(o)))return a.value=o,!0;const c=isArray(r)&&isIntegerKey(n)?Number(n)<r.length:hasOwn(r,n),u=Reflect.set(r,n,o,s);return r===toRaw(s)&&(c?hasChanged(o,a)&&trigger(r,"set",n,o):trigger(r,"add",n,o)),u}}function deleteProperty(e,t){const r=hasOwn(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&trigger(e,"delete",t,void 0),n}function has(e,t){const r=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1$1(e,t,r=!1,n=!1){e=e.__v_raw;const o=toRaw(e),s=toRaw(t);r||(t!==s&&track(o,"get",t),track(o,"get",s));const{has:a}=getProto(o),c=n?toShallow:r?toReadonly:toReactive;if(a.call(o,t))return c(e.get(t));if(a.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function has$1(e,t=!1){const r=this.__v_raw,n=toRaw(r),o=toRaw(e);return t||(e!==o&&track(n,"has",e),track(n,"has",o)),e===o?r.has(e):r.has(e)||r.has(o)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const r=toRaw(this),{has:n,get:o}=getProto(r);let s=n.call(r,e);s||(e=toRaw(e),s=n.call(r,e));const a=o.call(r,e);return r.set(e,t),s?hasChanged(t,a)&&trigger(r,"set",e,t):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:n}=getProto(t);let o=r.call(t,e);o||(e=toRaw(e),o=r.call(t,e)),n&&n.call(t,e);const s=t.delete(e);return o&&trigger(t,"delete",e,void 0),s}function clear(){const e=toRaw(this),t=e.size!==0,r=e.clear();return t&&trigger(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(n,o){const s=this,a=s.__v_raw,c=toRaw(a),u=t?toShallow:e?toReadonly:toReactive;return!e&&track(c,"iterate",ITERATE_KEY),a.forEach((d,h)=>n.call(o,u(d),u(h),s))}}function createIterableMethod(e,t,r){return function(...n){const o=this.__v_raw,s=toRaw(o),a=isMap(s),c=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,d=o[e](...n),h=r?toShallow:t?toReadonly:toReactive;return!t&&track(s,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:w,done:b}=d.next();return b?{value:w,done:b}:{value:c?[h(w[0]),h(w[1])]:h(w),done:b}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(s){return get$1$1(this,s)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(s){return get$1$1(this,s,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(s){return get$1$1(this,s,!0)},get size(){return size(this,!0)},has(s){return has$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(s){return get$1$1(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=createIterableMethod(s,!1,!1),r[s]=createIterableMethod(s,!0,!1),t[s]=createIterableMethod(s,!1,!0),n[s]=createIterableMethod(s,!0,!0)}),[e,r,t,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(n,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(hasOwn(r,o)&&o in n?r:n,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly$2(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,n,o){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=getTargetType(e);if(a===0)return e;const c=new Proxy(e,a===2?n:r);return o.set(e,c),c}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly$2(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){t=this.__v_isShallow?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const o=e[t];return isRef(o)&&!isRef(r)?(o.value=r,!0):Reflect.set(e,t,r,n)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(e,t,r=!1){let n,o;const s=isFunction(e);return s?(n=e,o=NOOP):(n=e.get,o=e.set),new ComputedRefImpl(n,o,s||!o,r)}function callWithErrorHandling(e,t,r,n){let o;try{o=n?e(...n):e()}catch(s){handleError(s,t,r)}return o}function callWithAsyncErrorHandling(e,t,r,n){if(isFunction(e)){const s=callWithErrorHandling(e,t,r,n);return s&&isPromise(s)&&s.catch(a=>{handleError(a,t,r)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(callWithAsyncErrorHandling(e[s],t,r,n));return o}function handleError(e,t,r,n=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,c=r;for(;s;){const d=s.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,a,c)===!1)return}s=s.parent}const u=t.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[e,a,c]);return}}logError(e,r,o,n)}function logError(e,t,r,n=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const n=t+r>>>1;getId(queue[n])<e?t=n+1:r=n}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&e!==currentPreFlushParentJob&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queueCb(e,t,r,n){isArray(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&r.push(e),queueFlush()}function queuePreFlushCb(e){queueCb(e,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(e){queueCb(e,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(e,t=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=t,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(e,t)}}function flushPostFlushCbs(e){if(flushPreFlushCbs(),pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((r,n)=>getId(r)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id;function flushJobs(e){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(e),queue.sort((r,n)=>getId(r)-getId(n));const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function emit$1(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||EMPTY_OBJ;let o=r;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in n){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:w,trim:b}=n[h]||EMPTY_OBJ;b&&(o=r.map(B=>B.trim())),w&&(o=r.map(toNumber))}let c,u=n[c=toHandlerKey(t)]||n[c=toHandlerKey(camelize(t))];!u&&s&&(u=n[c=toHandlerKey(hyphenate(t))]),u&&callWithAsyncErrorHandling(u,e,6,o);const d=n[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,callWithAsyncErrorHandling(d,e,6,o)}}function normalizeEmitsOptions(e,t,r=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const s=e.emits;let a={},c=!1;if(!isFunction(e)){const u=d=>{const h=normalizeEmitsOptions(d,t,!0);h&&(c=!0,extend(a,h))};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!c?(n.set(e,null),null):(isArray(s)?s.forEach(u=>a[u]=null):extend(a,s),n.set(e,a),a)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const n=(...o)=>{n._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(t),a=e(...o);return setCurrentRenderingInstance(s),n._d&&setBlockTracking(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:n,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:u,emit:d,render:h,renderCache:w,data:b,setupState:B,ctx:v,inheritAttrs:m}=e;let T,I;const X=setCurrentRenderingInstance(e);try{if(r.shapeFlag&4){const F=o||n;T=normalizeVNode(h.call(F,F,w,s,B,b,v)),I=u}else{const F=t;T=normalizeVNode(F.length>1?F(s,{attrs:u,slots:c,emit:d}):F(s,null)),I=t.props?u:getFunctionalFallthrough(u)}}catch(F){blockStack.length=0,handleError(F,e,1),T=createVNode(Comment)}let N=T;if(I&&m!==!1){const F=Object.keys(I),{shapeFlag:k}=N;F.length&&k&7&&(a&&F.some(isModelListener)&&(I=filterModelListeners(I,a)),N=cloneVNode(N,I))}return r.dirs&&(N=cloneVNode(N),N.dirs=N.dirs?N.dirs.concat(r.dirs):r.dirs),r.transition&&(N.transition=r.transition),T=N,setCurrentRenderingInstance(X),T}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const n in e)(!isModelListener(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function shouldUpdateComponent(e,t,r){const{props:n,children:o,component:s}=e,{props:a,children:c,patchFlag:u}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?hasPropsChanged(n,a,d):!!a;if(u&8){const h=t.dynamicProps;for(let w=0;w<h.length;w++){const b=h[w];if(a[b]!==n[b]&&!isEmitListener(d,b))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:n===a?!1:n?a?hasPropsChanged(n,a,d):!0:!!a;return!1}function hasPropsChanged(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(t[s]!==e[s]&&!isEmitListener(r,s))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[e]=t}}function inject(e,t,r=!1){const n=currentInstance||currentRenderingInstance;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&isFunction(t)?t.call(n.proxy):t}}const INITIAL_WATCHER_VALUE={};function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:n,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){const c=currentInstance;let u,d=!1,h=!1;if(isRef(e)?(u=()=>e.value,d=isShallow(e)):isReactive(e)?(u=()=>e,n=!0):isArray(e)?(h=!0,d=e.some(I=>isReactive(I)||isShallow(I)),u=()=>e.map(I=>{if(isRef(I))return I.value;if(isReactive(I))return traverse(I);if(isFunction(I))return callWithErrorHandling(I,c,2)})):isFunction(e)?t?u=()=>callWithErrorHandling(e,c,2):u=()=>{if(!(c&&c.isUnmounted))return w&&w(),callWithAsyncErrorHandling(e,c,3,[b])}:u=NOOP,t&&n){const I=u;u=()=>traverse(I())}let w,b=I=>{w=T.onStop=()=>{callWithErrorHandling(I,c,4)}};if(isInSSRComponentSetup)return b=NOOP,t?r&&callWithAsyncErrorHandling(t,c,3,[u(),h?[]:void 0,b]):u(),NOOP;let B=h?[]:INITIAL_WATCHER_VALUE;const v=()=>{if(!!T.active)if(t){const I=T.run();(n||d||(h?I.some((X,N)=>hasChanged(X,B[N])):hasChanged(I,B)))&&(w&&w(),callWithAsyncErrorHandling(t,c,3,[I,B===INITIAL_WATCHER_VALUE?void 0:B,b]),B=I)}else T.run()};v.allowRecurse=!!t;let m;o==="sync"?m=v:o==="post"?m=()=>queuePostRenderEffect(v,c&&c.suspense):m=()=>queuePreFlushCb(v);const T=new ReactiveEffect(u,m);return t?r?v():B=T.run():o==="post"?queuePostRenderEffect(T.run.bind(T),c&&c.suspense):T.run(),()=>{T.stop(),c&&c.scope&&remove(c.scope.effects,T)}}function instanceWatch(e,t,r){const n=this.proxy,o=isString(e)?e.includes(".")?createPathGetter(n,e):()=>n[e]:e.bind(n,n);let s;isFunction(t)?s=t:(s=t.handler,r=t);const a=currentInstance;setCurrentInstance(this);const c=doWatch(o,s.bind(n),r);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(e,t){const r=t.split(".");return()=>{let n=e;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray(e))for(let r=0;r<e.length;r++)traverse(e[r],t);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t)});else if(isPlainObject(e))for(const r in e)traverse(e[r],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const r=getCurrentInstance(),n=useTransitionState();let o;return()=>{const s=t.default&&getTransitionRawChildren(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const m of s)if(m.type!==Comment){a=m;break}}const c=toRaw(e),{mode:u}=c;if(n.isLeaving)return emptyPlaceholder(a);const d=getKeepAliveChild(a);if(!d)return emptyPlaceholder(a);const h=resolveTransitionHooks(d,c,n,r);setTransitionHooks(d,h);const w=r.subTree,b=w&&getKeepAliveChild(w);let B=!1;const{getTransitionKey:v}=d.type;if(v){const m=v();o===void 0?o=m:m!==o&&(o=m,B=!0)}if(b&&b.type!==Comment&&(!isSameVNodeType(d,b)||B)){const m=resolveTransitionHooks(b,c,n,r);if(setTransitionHooks(b,m),u==="out-in")return n.isLeaving=!0,m.afterLeave=()=>{n.isLeaving=!1,r.update()},emptyPlaceholder(a);u==="in-out"&&d.type!==Comment&&(m.delayLeave=(T,I,X)=>{const N=getLeavingNodesForType(n,b);N[String(b.key)]=b,T._leaveCb=()=>{I(),T._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=X})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function resolveTransitionHooks(e,t,r,n){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:w,onLeave:b,onAfterLeave:B,onLeaveCancelled:v,onBeforeAppear:m,onAppear:T,onAfterAppear:I,onAppearCancelled:X}=t,N=String(e.key),F=getLeavingNodesForType(r,e),k=(C,$)=>{C&&callWithAsyncErrorHandling(C,n,9,$)},O=(C,$)=>{const Y=$[1];k(C,$),isArray(C)?C.every(ae=>ae.length<=1)&&Y():C.length<=1&&Y()},L={mode:s,persisted:a,beforeEnter(C){let $=c;if(!r.isMounted)if(o)$=m||c;else return;C._leaveCb&&C._leaveCb(!0);const Y=F[N];Y&&isSameVNodeType(e,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),k($,[C])},enter(C){let $=u,Y=d,ae=h;if(!r.isMounted)if(o)$=T||u,Y=I||d,ae=X||h;else return;let fe=!1;const he=C._enterCb=ye=>{fe||(fe=!0,ye?k(ae,[C]):k(Y,[C]),L.delayedLeave&&L.delayedLeave(),C._enterCb=void 0)};$?O($,[C,he]):he()},leave(C,$){const Y=String(e.key);if(C._enterCb&&C._enterCb(!0),r.isUnmounting)return $();k(w,[C]);let ae=!1;const fe=C._leaveCb=he=>{ae||(ae=!0,$(),he?k(v,[C]):k(B,[C]),C._leaveCb=void 0,F[Y]===e&&delete F[Y])};F[Y]=e,b?O(b,[C,fe]):fe()},clone(C){return resolveTransitionHooks(C,t,r,n)}};return L}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,r){let n=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const c=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===Fragment?(a.patchFlag&128&&o++,n=n.concat(getTransitionRawChildren(a.children,t,c))):(t||a.type!==Comment)&&n.push(c!=null?cloneVNode(a,{key:c}):a)}if(o>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const n=e.__wdc||(e.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(t,n,r),r){let o=r.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(n,t,r,o),o=o.parent}}function injectToKeepAliveRoot(e,t,r,n){const o=injectHook(t,e,n,!0);onUnmounted(()=>{remove(n[t],o)},r)}function injectHook(e,t,r=currentInstance,n=!1){if(r){const o=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const c=callWithAsyncErrorHandling(t,r,e,a);return unsetCurrentInstance(),resetTracking(),c});return n?o.unshift(s):o.push(s),s}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,t,r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function invokeDirectiveHook(e,t,r,n){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let u=c.dir[n];u&&(pauseTracking(),callWithAsyncErrorHandling(u,r,8,[e.el,c,e,t]),resetTracking())}}const NULL_DYNAMIC_COMPONENT=Symbol(),getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:n,data:o,props:s,accessCache:a,type:c,appContext:u}=e;let d;if(t[0]!=="$"){const B=a[t];if(B!==void 0)switch(B){case 1:return n[t];case 2:return o[t];case 4:return r[t];case 3:return s[t]}else{if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=1,n[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&hasOwn(d,t))return a[t]=3,s[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return a[t]=4,r[t];shouldCacheAccess&&(a[t]=0)}}const h=publicPropertiesMap[t];let w,b;if(h)return t==="$attrs"&&track(e,"get",t),h(e);if((w=c.__cssModules)&&(w=w[t]))return w;if(r!==EMPTY_OBJ&&hasOwn(r,t))return a[t]=4,r[t];if(b=u.config.globalProperties,hasOwn(b,t))return b[t]},set({_:e},t,r){const{data:n,setupState:o,ctx:s}=e;return o!==EMPTY_OBJ&&hasOwn(o,t)?(o[t]=r,!0):n!==EMPTY_OBJ&&hasOwn(n,t)?(n[t]=r,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,propsOptions:s}},a){let c;return!!r[a]||e!==EMPTY_OBJ&&hasOwn(e,a)||t!==EMPTY_OBJ&&hasOwn(t,a)||(c=s[0])&&hasOwn(c,a)||hasOwn(n,a)||hasOwn(publicPropertiesMap,a)||hasOwn(o.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,n=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:c,provide:u,inject:d,created:h,beforeMount:w,mounted:b,beforeUpdate:B,updated:v,activated:m,deactivated:T,beforeDestroy:I,beforeUnmount:X,destroyed:N,unmounted:F,render:k,renderTracked:O,renderTriggered:L,errorCaptured:C,serverPrefetch:$,expose:Y,inheritAttrs:ae,components:fe,directives:he,filters:ye}=t;if(d&&resolveInjections(d,n,null,e.appContext.config.unwrapInjectedRef),a)for(const le in a){const se=a[le];isFunction(se)&&(n[le]=se.bind(r))}if(o){const le=o.call(r,r);isObject(le)&&(e.data=reactive(le))}if(shouldCacheAccess=!0,s)for(const le in s){const se=s[le],me=isFunction(se)?se.bind(r,r):isFunction(se.get)?se.get.bind(r,r):NOOP,_e=!isFunction(se)&&isFunction(se.set)?se.set.bind(r):NOOP,ue=computed({get:me,set:_e});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>ue.value,set:G=>ue.value=G})}if(c)for(const le in c)createWatcher(c[le],n,r,le);if(u){const le=isFunction(u)?u.call(r):u;Reflect.ownKeys(le).forEach(se=>{provide(se,le[se])})}h&&callHook(h,e,"c");function ge(le,se){isArray(se)?se.forEach(me=>le(me.bind(r))):se&&le(se.bind(r))}if(ge(onBeforeMount,w),ge(onMounted,b),ge(onBeforeUpdate,B),ge(onUpdated,v),ge(onActivated,m),ge(onDeactivated,T),ge(onErrorCaptured,C),ge(onRenderTracked,O),ge(onRenderTriggered,L),ge(onBeforeUnmount,X),ge(onUnmounted,F),ge(onServerPrefetch,$),isArray(Y))if(Y.length){const le=e.exposed||(e.exposed={});Y.forEach(se=>{Object.defineProperty(le,se,{get:()=>r[se],set:me=>r[se]=me})})}else e.exposed||(e.exposed={});k&&e.render===NOOP&&(e.render=k),ae!=null&&(e.inheritAttrs=ae),fe&&(e.components=fe),he&&(e.directives=he)}function resolveInjections(e,t,r=NOOP,n=!1){isArray(e)&&(e=normalizeInject(e));for(const o in e){const s=e[o];let a;isObject(s)?"default"in s?a=inject(s.from||o,s.default,!0):a=inject(s.from||o):a=inject(s),isRef(a)&&n?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[o]=a}}function callHook(e,t,r){callWithAsyncErrorHandling(isArray(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,n){const o=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString(e)){const s=t[e];isFunction(s)&&watch(o,s)}else if(isFunction(e))watch(o,e.bind(r));else if(isObject(e))if(isArray(e))e.forEach(s=>createWatcher(s,t,r,n));else{const s=isFunction(e.handler)?e.handler.bind(r):t[e.handler];isFunction(s)&&watch(o,s,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let u;return c?u=c:!o.length&&!r&&!n?u=t:(u={},o.length&&o.forEach(d=>mergeOptions$1(u,d,a,!0)),mergeOptions$1(u,t,a)),s.set(t,u),u}function mergeOptions$1(e,t,r,n=!1){const{mixins:o,extends:s}=t;s&&mergeOptions$1(e,s,r,!0),o&&o.forEach(a=>mergeOptions$1(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const c=internalOptionMergeStrats[a]||r&&r[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend(Object.create(null),e);for(const n in t)r[n]=mergeAsArray(e[n],t[n]);return r}function initProps(e,t,r,n=!1){const o={},s={};def(s,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);r?e.props=n?o:shallowReactive(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function updateProps(e,t,r,n){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,c=toRaw(o),[u]=e.propsOptions;let d=!1;if((n||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let w=0;w<h.length;w++){let b=h[w];if(isEmitListener(e.emitsOptions,b))continue;const B=t[b];if(u)if(hasOwn(s,b))B!==s[b]&&(s[b]=B,d=!0);else{const v=camelize(b);o[v]=resolvePropValue(u,c,v,B,e,!1)}else B!==s[b]&&(s[b]=B,d=!0)}}}else{setFullProps(e,t,o,s)&&(d=!0);let h;for(const w in c)(!t||!hasOwn(t,w)&&((h=hyphenate(w))===w||!hasOwn(t,h)))&&(u?r&&(r[w]!==void 0||r[h]!==void 0)&&(o[w]=resolvePropValue(u,c,w,void 0,e,!0)):delete o[w]);if(s!==c)for(const w in s)(!t||!hasOwn(t,w)&&!0)&&(delete s[w],d=!0)}d&&trigger(e,"set","$attrs")}function setFullProps(e,t,r,n){const[o,s]=e.propsOptions;let a=!1,c;if(t)for(let u in t){if(isReservedProp(u))continue;const d=t[u];let h;o&&hasOwn(o,h=camelize(u))?!s||!s.includes(h)?r[h]=d:(c||(c={}))[h]=d:isEmitListener(e.emitsOptions,u)||(!(u in n)||d!==n[u])&&(n[u]=d,a=!0)}if(s){const u=toRaw(r),d=c||EMPTY_OBJ;for(let h=0;h<s.length;h++){const w=s[h];r[w]=resolvePropValue(o,u,w,d[w],e,!hasOwn(d,w))}}return a}function resolvePropValue(e,t,r,n,o,s){const a=e[r];if(a!=null){const c=hasOwn(a,"default");if(c&&n===void 0){const u=a.default;if(a.type!==Function&&isFunction(u)){const{propsDefaults:d}=o;r in d?n=d[r]:(setCurrentInstance(o),n=d[r]=u.call(null,t),unsetCurrentInstance())}else n=u}a[0]&&(s&&!c?n=!1:a[1]&&(n===""||n===hyphenate(r))&&(n=!0))}return n}function normalizePropsOptions(e,t,r=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const s=e.props,a={},c=[];let u=!1;if(!isFunction(e)){const h=w=>{u=!0;const[b,B]=normalizePropsOptions(w,t,!0);extend(a,b),B&&c.push(...B)};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!s&&!u)return n.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(s))for(let h=0;h<s.length;h++){const w=camelize(s[h]);validatePropName(w)&&(a[w]=EMPTY_OBJ)}else if(s)for(const h in s){const w=camelize(h);if(validatePropName(w)){const b=s[h],B=a[w]=isArray(b)||isFunction(b)?{type:b}:b;if(B){const v=getTypeIndex(Boolean,B.type),m=getTypeIndex(String,B.type);B[0]=v>-1,B[1]=m<0||v<m,(v>-1||hasOwn(B,"default"))&&c.push(w)}}}const d=[a,c];return n.set(e,d),d}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(r=>isSameType(r,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,r)=>{if(t._n)return t;const n=withCtx((...o)=>normalizeSlotValue(t(...o)),r);return n._c=!1,n},normalizeObjectSlots=(e,t,r)=>{const n=e._ctx;for(const o in e){if(isInternalKey(o))continue;const s=e[o];if(isFunction(s))t[o]=normalizeSlot(o,s,n);else if(s!=null){const a=normalizeSlotValue(s);t[o]=()=>a}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:n,slots:o}=e;let s=!0,a=EMPTY_OBJ;if(n.shapeFlag&32){const c=t._;c?r&&c===1?s=!1:(extend(o,t),!r&&c===1&&delete o._):(s=!t.$stable,normalizeObjectSlots(t,o)),a=t}else t&&(normalizeVNodeSlots(e,t),a={default:1});if(s)for(const c in o)!isInternalKey(c)&&!(c in a)&&delete o[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(n,o=null){isFunction(n)||(n=Object.assign({},n)),o!=null&&!isObject(o)&&(o=null);const s=createAppContext(),a=new Set;let c=!1;const u=s.app={_uid:uid++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:version$1,get config(){return s.config},set config(d){},use(d,...h){return a.has(d)||(d&&isFunction(d.install)?(a.add(d),d.install(u,...h)):isFunction(d)&&(a.add(d),d(u,...h))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,h){return h?(s.components[d]=h,u):s.components[d]},directive(d,h){return h?(s.directives[d]=h,u):s.directives[d]},mount(d,h,w){if(!c){const b=createVNode(n,o);return b.appContext=s,h&&t?t(b,d):e(b,d,w),c=!0,u._container=d,d.__vue_app__=u,getExposeProxy(b.component)||b.component.proxy}},unmount(){c&&(e(null,u._container),delete u._container.__vue_app__)},provide(d,h){return s.provides[d]=h,u}};return u}}function setRef(e,t,r,n,o=!1){if(isArray(e)){e.forEach((b,B)=>setRef(b,t&&(isArray(t)?t[B]:t),r,n,o));return}if(isAsyncWrapper(n)&&!o)return;const s=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,a=o?null:s,{i:c,r:u}=e,d=t&&t.r,h=c.refs===EMPTY_OBJ?c.refs={}:c.refs,w=c.setupState;if(d!=null&&d!==u&&(isString(d)?(h[d]=null,hasOwn(w,d)&&(w[d]=null)):isRef(d)&&(d.value=null)),isFunction(u))callWithErrorHandling(u,c,12,[a,h]);else{const b=isString(u),B=isRef(u);if(b||B){const v=()=>{if(e.f){const m=b?h[u]:u.value;o?isArray(m)&&remove(m,s):isArray(m)?m.includes(s)||m.push(s):b?(h[u]=[s],hasOwn(w,u)&&(w[u]=h[u])):(u.value=[s],e.k&&(h[e.k]=u.value))}else b?(h[u]=a,hasOwn(w,u)&&(w[u]=a)):B&&(u.value=a,e.k&&(h[e.k]=a))};a?(v.id=-1,queuePostRenderEffect(v,r)):v()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:a,createText:c,createComment:u,setText:d,setElementText:h,parentNode:w,nextSibling:b,setScopeId:B=NOOP,cloneNode:v,insertStaticContent:m}=e,T=(_,A,S,U=null,P=null,j=null,H=!1,M=null,z=!!A.dynamicChildren)=>{if(_===A)return;_&&!isSameVNodeType(_,A)&&(U=pe(_),V(_,P,j,!0),_=null),A.patchFlag===-2&&(z=!1,A.dynamicChildren=null);const{type:D,ref:J,shapeFlag:W}=A;switch(D){case Text:I(_,A,S,U);break;case Comment:X(_,A,S,U);break;case Static:_==null&&N(A,S,U,H);break;case Fragment:he(_,A,S,U,P,j,H,M,z);break;default:W&1?O(_,A,S,U,P,j,H,M,z):W&6?ye(_,A,S,U,P,j,H,M,z):(W&64||W&128)&&D.process(_,A,S,U,P,j,H,M,z,be)}J!=null&&P&&setRef(J,_&&_.ref,j,A||_,!A)},I=(_,A,S,U)=>{if(_==null)n(A.el=c(A.children),S,U);else{const P=A.el=_.el;A.children!==_.children&&d(P,A.children)}},X=(_,A,S,U)=>{_==null?n(A.el=u(A.children||""),S,U):A.el=_.el},N=(_,A,S,U)=>{[_.el,_.anchor]=m(_.children,A,S,U,_.el,_.anchor)},F=({el:_,anchor:A},S,U)=>{let P;for(;_&&_!==A;)P=b(_),n(_,S,U),_=P;n(A,S,U)},k=({el:_,anchor:A})=>{let S;for(;_&&_!==A;)S=b(_),o(_),_=S;o(A)},O=(_,A,S,U,P,j,H,M,z)=>{H=H||A.type==="svg",_==null?L(A,S,U,P,j,H,M,z):Y(_,A,P,j,H,M,z)},L=(_,A,S,U,P,j,H,M)=>{let z,D;const{type:J,props:W,shapeFlag:K,transition:ee,patchFlag:y,dirs:l}=_;if(_.el&&v!==void 0&&y===-1)z=_.el=v(_.el);else{if(z=_.el=a(_.type,j,W&&W.is,W),K&8?h(z,_.children):K&16&&$(_.children,z,null,U,P,j&&J!=="foreignObject",H,M),l&&invokeDirectiveHook(_,null,U,"created"),W){for(const g in W)g!=="value"&&!isReservedProp(g)&&s(z,g,null,W[g],j,_.children,U,P,Q);"value"in W&&s(z,"value",null,W.value),(D=W.onVnodeBeforeMount)&&invokeVNodeHook(D,U,_)}C(z,_,_.scopeId,H,U)}l&&invokeDirectiveHook(_,null,U,"beforeMount");const f=(!P||P&&!P.pendingBranch)&&ee&&!ee.persisted;f&&ee.beforeEnter(z),n(z,A,S),((D=W&&W.onVnodeMounted)||f||l)&&queuePostRenderEffect(()=>{D&&invokeVNodeHook(D,U,_),f&&ee.enter(z),l&&invokeDirectiveHook(_,null,U,"mounted")},P)},C=(_,A,S,U,P)=>{if(S&&B(_,S),U)for(let j=0;j<U.length;j++)B(_,U[j]);if(P){let j=P.subTree;if(A===j){const H=P.vnode;C(_,H,H.scopeId,H.slotScopeIds,P.parent)}}},$=(_,A,S,U,P,j,H,M,z=0)=>{for(let D=z;D<_.length;D++){const J=_[D]=M?cloneIfMounted(_[D]):normalizeVNode(_[D]);T(null,J,A,S,U,P,j,H,M)}},Y=(_,A,S,U,P,j,H)=>{const M=A.el=_.el;let{patchFlag:z,dynamicChildren:D,dirs:J}=A;z|=_.patchFlag&16;const W=_.props||EMPTY_OBJ,K=A.props||EMPTY_OBJ;let ee;S&&toggleRecurse(S,!1),(ee=K.onVnodeBeforeUpdate)&&invokeVNodeHook(ee,S,A,_),J&&invokeDirectiveHook(A,_,S,"beforeUpdate"),S&&toggleRecurse(S,!0);const y=P&&A.type!=="foreignObject";if(D?ae(_.dynamicChildren,D,M,S,U,y,j):H||me(_,A,M,null,S,U,y,j,!1),z>0){if(z&16)fe(M,A,W,K,S,U,P);else if(z&2&&W.class!==K.class&&s(M,"class",null,K.class,P),z&4&&s(M,"style",W.style,K.style,P),z&8){const l=A.dynamicProps;for(let f=0;f<l.length;f++){const g=l[f],E=W[g],x=K[g];(x!==E||g==="value")&&s(M,g,E,x,P,_.children,S,U,Q)}}z&1&&_.children!==A.children&&h(M,A.children)}else!H&&D==null&&fe(M,A,W,K,S,U,P);((ee=K.onVnodeUpdated)||J)&&queuePostRenderEffect(()=>{ee&&invokeVNodeHook(ee,S,A,_),J&&invokeDirectiveHook(A,_,S,"updated")},U)},ae=(_,A,S,U,P,j,H)=>{for(let M=0;M<A.length;M++){const z=_[M],D=A[M],J=z.el&&(z.type===Fragment||!isSameVNodeType(z,D)||z.shapeFlag&70)?w(z.el):S;T(z,D,J,null,U,P,j,H,!0)}},fe=(_,A,S,U,P,j,H)=>{if(S!==U){for(const M in U){if(isReservedProp(M))continue;const z=U[M],D=S[M];z!==D&&M!=="value"&&s(_,M,D,z,H,A.children,P,j,Q)}if(S!==EMPTY_OBJ)for(const M in S)!isReservedProp(M)&&!(M in U)&&s(_,M,S[M],null,H,A.children,P,j,Q);"value"in U&&s(_,"value",S.value,U.value)}},he=(_,A,S,U,P,j,H,M,z)=>{const D=A.el=_?_.el:c(""),J=A.anchor=_?_.anchor:c("");let{patchFlag:W,dynamicChildren:K,slotScopeIds:ee}=A;ee&&(M=M?M.concat(ee):ee),_==null?(n(D,S,U),n(J,S,U),$(A.children,S,J,P,j,H,M,z)):W>0&&W&64&&K&&_.dynamicChildren?(ae(_.dynamicChildren,K,S,P,j,H,M),(A.key!=null||P&&A===P.subTree)&&traverseStaticChildren(_,A,!0)):me(_,A,S,J,P,j,H,M,z)},ye=(_,A,S,U,P,j,H,M,z)=>{A.slotScopeIds=M,_==null?A.shapeFlag&512?P.ctx.activate(A,S,U,H,z):ne(A,S,U,P,j,H,z):ge(_,A,z)},ne=(_,A,S,U,P,j,H)=>{const M=_.component=createComponentInstance(_,U,P);if(isKeepAlive(_)&&(M.ctx.renderer=be),setupComponent(M),M.asyncDep){if(P&&P.registerDep(M,le),!_.el){const z=M.subTree=createVNode(Comment);X(null,z,A,S)}return}le(M,_,A,S,P,j,H)},ge=(_,A,S)=>{const U=A.component=_.component;if(shouldUpdateComponent(_,A,S))if(U.asyncDep&&!U.asyncResolved){se(U,A,S);return}else U.next=A,invalidateJob(U.update),U.update();else A.el=_.el,U.vnode=A},le=(_,A,S,U,P,j,H)=>{const M=()=>{if(_.isMounted){let{next:J,bu:W,u:K,parent:ee,vnode:y}=_,l=J,f;toggleRecurse(_,!1),J?(J.el=y.el,se(_,J,H)):J=y,W&&invokeArrayFns(W),(f=J.props&&J.props.onVnodeBeforeUpdate)&&invokeVNodeHook(f,ee,J,y),toggleRecurse(_,!0);const g=renderComponentRoot(_),E=_.subTree;_.subTree=g,T(E,g,w(E.el),pe(E),_,P,j),J.el=g.el,l===null&&updateHOCHostEl(_,g.el),K&&queuePostRenderEffect(K,P),(f=J.props&&J.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(f,ee,J,y),P)}else{let J;const{el:W,props:K}=A,{bm:ee,m:y,parent:l}=_,f=isAsyncWrapper(A);if(toggleRecurse(_,!1),ee&&invokeArrayFns(ee),!f&&(J=K&&K.onVnodeBeforeMount)&&invokeVNodeHook(J,l,A),toggleRecurse(_,!0),W&&Ee){const g=()=>{_.subTree=renderComponentRoot(_),Ee(W,_.subTree,_,P,null)};f?A.type.__asyncLoader().then(()=>!_.isUnmounted&&g()):g()}else{const g=_.subTree=renderComponentRoot(_);T(null,g,S,U,_,P,j),A.el=g.el}if(y&&queuePostRenderEffect(y,P),!f&&(J=K&&K.onVnodeMounted)){const g=A;queuePostRenderEffect(()=>invokeVNodeHook(J,l,g),P)}(A.shapeFlag&256||l&&isAsyncWrapper(l.vnode)&&l.vnode.shapeFlag&256)&&_.a&&queuePostRenderEffect(_.a,P),_.isMounted=!0,A=S=U=null}},z=_.effect=new ReactiveEffect(M,()=>queueJob(D),_.scope),D=_.update=()=>z.run();D.id=_.uid,toggleRecurse(_,!0),D()},se=(_,A,S)=>{A.component=_;const U=_.vnode.props;_.vnode=A,_.next=null,updateProps(_,A.props,U,S),updateSlots(_,A.children,S),pauseTracking(),flushPreFlushCbs(void 0,_.update),resetTracking()},me=(_,A,S,U,P,j,H,M,z=!1)=>{const D=_&&_.children,J=_?_.shapeFlag:0,W=A.children,{patchFlag:K,shapeFlag:ee}=A;if(K>0){if(K&128){ue(D,W,S,U,P,j,H,M,z);return}else if(K&256){_e(D,W,S,U,P,j,H,M,z);return}}ee&8?(J&16&&Q(D,P,j),W!==D&&h(S,W)):J&16?ee&16?ue(D,W,S,U,P,j,H,M,z):Q(D,P,j,!0):(J&8&&h(S,""),ee&16&&$(W,S,U,P,j,H,M,z))},_e=(_,A,S,U,P,j,H,M,z)=>{_=_||EMPTY_ARR,A=A||EMPTY_ARR;const D=_.length,J=A.length,W=Math.min(D,J);let K;for(K=0;K<W;K++){const ee=A[K]=z?cloneIfMounted(A[K]):normalizeVNode(A[K]);T(_[K],ee,S,null,P,j,H,M,z)}D>J?Q(_,P,j,!0,!1,W):$(A,S,U,P,j,H,M,z,W)},ue=(_,A,S,U,P,j,H,M,z)=>{let D=0;const J=A.length;let W=_.length-1,K=J-1;for(;D<=W&&D<=K;){const ee=_[D],y=A[D]=z?cloneIfMounted(A[D]):normalizeVNode(A[D]);if(isSameVNodeType(ee,y))T(ee,y,S,null,P,j,H,M,z);else break;D++}for(;D<=W&&D<=K;){const ee=_[W],y=A[K]=z?cloneIfMounted(A[K]):normalizeVNode(A[K]);if(isSameVNodeType(ee,y))T(ee,y,S,null,P,j,H,M,z);else break;W--,K--}if(D>W){if(D<=K){const ee=K+1,y=ee<J?A[ee].el:U;for(;D<=K;)T(null,A[D]=z?cloneIfMounted(A[D]):normalizeVNode(A[D]),S,y,P,j,H,M,z),D++}}else if(D>K)for(;D<=W;)V(_[D],P,j,!0),D++;else{const ee=D,y=D,l=new Map;for(D=y;D<=K;D++){const ie=A[D]=z?cloneIfMounted(A[D]):normalizeVNode(A[D]);ie.key!=null&&l.set(ie.key,D)}let f,g=0;const E=K-y+1;let x=!1,R=0;const re=new Array(E);for(D=0;D<E;D++)re[D]=0;for(D=ee;D<=W;D++){const ie=_[D];if(g>=E){V(ie,P,j,!0);continue}let oe;if(ie.key!=null)oe=l.get(ie.key);else for(f=y;f<=K;f++)if(re[f-y]===0&&isSameVNodeType(ie,A[f])){oe=f;break}oe===void 0?V(ie,P,j,!0):(re[oe-y]=D+1,oe>=R?R=oe:x=!0,T(ie,A[oe],S,null,P,j,H,M,z),g++)}const de=x?getSequence(re):EMPTY_ARR;for(f=de.length-1,D=E-1;D>=0;D--){const ie=y+D,oe=A[ie],ce=ie+1<J?A[ie+1].el:U;re[D]===0?T(null,oe,S,ce,P,j,H,M,z):x&&(f<0||D!==de[f]?G(oe,S,ce,2):f--)}}},G=(_,A,S,U,P=null)=>{const{el:j,type:H,transition:M,children:z,shapeFlag:D}=_;if(D&6){G(_.component.subTree,A,S,U);return}if(D&128){_.suspense.move(A,S,U);return}if(D&64){H.move(_,A,S,be);return}if(H===Fragment){n(j,A,S);for(let W=0;W<z.length;W++)G(z[W],A,S,U);n(_.anchor,A,S);return}if(H===Static){F(_,A,S);return}if(U!==2&&D&1&&M)if(U===0)M.beforeEnter(j),n(j,A,S),queuePostRenderEffect(()=>M.enter(j),P);else{const{leave:W,delayLeave:K,afterLeave:ee}=M,y=()=>n(j,A,S),l=()=>{W(j,()=>{y(),ee&&ee()})};K?K(j,y,l):l()}else n(j,A,S)},V=(_,A,S,U=!1,P=!1)=>{const{type:j,props:H,ref:M,children:z,dynamicChildren:D,shapeFlag:J,patchFlag:W,dirs:K}=_;if(M!=null&&setRef(M,null,S,_,!0),J&256){A.ctx.deactivate(_);return}const ee=J&1&&K,y=!isAsyncWrapper(_);let l;if(y&&(l=H&&H.onVnodeBeforeUnmount)&&invokeVNodeHook(l,A,_),J&6)te(_.component,S,U);else{if(J&128){_.suspense.unmount(S,U);return}ee&&invokeDirectiveHook(_,null,A,"beforeUnmount"),J&64?_.type.remove(_,A,S,P,be,U):D&&(j!==Fragment||W>0&&W&64)?Q(D,A,S,!1,!0):(j===Fragment&&W&384||!P&&J&16)&&Q(z,A,S),U&&q(_)}(y&&(l=H&&H.onVnodeUnmounted)||ee)&&queuePostRenderEffect(()=>{l&&invokeVNodeHook(l,A,_),ee&&invokeDirectiveHook(_,null,A,"unmounted")},S)},q=_=>{const{type:A,el:S,anchor:U,transition:P}=_;if(A===Fragment){Z(S,U);return}if(A===Static){k(_);return}const j=()=>{o(S),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(_.shapeFlag&1&&P&&!P.persisted){const{leave:H,delayLeave:M}=P,z=()=>H(S,j);M?M(_.el,j,z):z()}else j()},Z=(_,A)=>{let S;for(;_!==A;)S=b(_),o(_),_=S;o(A)},te=(_,A,S)=>{const{bum:U,scope:P,update:j,subTree:H,um:M}=_;U&&invokeArrayFns(U),P.stop(),j&&(j.active=!1,V(H,_,A,S)),M&&queuePostRenderEffect(M,A),queuePostRenderEffect(()=>{_.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Q=(_,A,S,U=!1,P=!1,j=0)=>{for(let H=j;H<_.length;H++)V(_[H],A,S,U,P)},pe=_=>_.shapeFlag&6?pe(_.component.subTree):_.shapeFlag&128?_.suspense.next():b(_.anchor||_.el),we=(_,A,S)=>{_==null?A._vnode&&V(A._vnode,null,null,!0):T(A._vnode||null,_,A,null,null,null,S),flushPostFlushCbs(),A._vnode=_},be={p:T,um:V,m:G,r:q,mt:ne,mc:$,pc:me,pbc:ae,n:pe,o:e};let Te,Ee;return t&&([Te,Ee]=t(be)),{render:we,hydrate:Te,createApp:createAppAPI(we,Te)}}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(e,t,r=!1){const n=e.children,o=t.children;if(isArray(n)&&isArray(o))for(let s=0;s<n.length;s++){const a=n[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=cloneIfMounted(o[s]),c.el=a.el),r||traverseStaticChildren(a,c))}}function getSequence(e){const t=e.slice(),r=[0];let n,o,s,a,c;const u=e.length;for(n=0;n<u;n++){const d=e[n];if(d!==0){if(o=r[r.length-1],e[o]<d){t[n]=o,r.push(n);continue}for(s=0,a=r.length-1;s<a;)c=s+a>>1,e[r[c]]<d?s=c+1:a=c;d<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=t[a];return r}const isTeleport=e=>e.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,n,o,s){return setupBlock(createBaseVNode(e,t,r,n,o,s,!0))}function createBlock(e,t,r,n,o){return setupBlock(createVNode(e,t,r,n,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null;function createBaseVNode(e,t=null,r=null,n=0,o=null,s=e===Fragment?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(normalizeChildren(u,r),s&128&&e.normalize(u)):r&&(u.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(e,t=null,r=null,n=0,o=null,s=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const c=cloneVNode(e,t,!0);return r&&normalizeChildren(c,r),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:c,style:u}=t;c&&!isString(c)&&(t.class=normalizeClass(c)),isObject(u)&&(isProxy(u)&&!isArray(u)&&(u=extend({},u)),t.style=normalizeStyle(u))}const a=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,r,n,o,a,s,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,r=!1){const{props:n,ref:o,patchFlag:s,children:a}=e,c=t?mergeProps(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?r&&o?isArray(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(isArray(t))r=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{r=32;const o=t._;!o&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),n&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=normalizeClass([t.class,n.class]));else if(o==="style")t.style=normalizeStyle([t.style,n.style]);else if(isOn(o)){const s=t[o],a=n[o];a&&s!==a&&!(isArray(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=n[o])}return t}function invokeVNodeHook(e,t,r,n=null){callWithAsyncErrorHandling(e,t,7,[r,n])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,r){const n=e.type,o=(t?t.appContext:e.appContext)||emptyAppContext,s={uid:uid$1++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,o),emitsOptions:normalizeEmitsOptions(n,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=emit$1.bind(null,s),e.ce&&e.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:r,children:n}=e.vnode,o=isStatefulComponent(e);initProps(e,r,o,t),initSlots(e,n);const s=o?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:n}=r;if(n){const o=e.setupContext=n.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const s=callWithErrorHandling(n,e,0,[e.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(a=>{handleSetupResult(e,a,t)}).catch(a=>{handleError(a,e,0)});e.asyncDep=s}else handleSetupResult(e,s,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}let compile;function finishComponentSetup(e,t,r){const n=e.type;if(!e.render){if(!t&&compile&&!n.render){const o=n.template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:u}=n,d=extend(extend({isCustomElement:s,delimiters:c},a),u);n.render=compile(o,d)}}e.render=n.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,r){return track(e,"get","$attrs"),t[r]}})}function createSetupContext(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)}}))}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup),version$1="3.2.37",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const o=t?doc.createElementNS(svgNS,e):doc.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n,o,s){const a=r?r.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),r),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${e}</svg>`:e;const c=templateContainer.content;if(n){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,r){const n=e.style,o=isString(r);if(r&&!o){for(const s in r)setStyle(n,s,r[s]);if(t&&!isString(t))for(const s in t)r[s]==null&&setStyle(n,s,"")}else{const s=n.display;o?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=s)}}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray(r))r.forEach(n=>setStyle(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):e[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let n=camelize(t);if(n!=="filter"&&n in e)return prefixCache[t]=n;n=capitalize(n);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+n;if(s in e)return prefixCache[t]=s}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,n,o){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const s=isSpecialBooleanAttr(t);r==null||s&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,s?"":r)}}function patchDOMProp(e,t,r,n,o,s,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,o,s),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const u=r==null?"":r;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),r==null&&e.removeAttribute(t);return}let c=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=includeBooleanAttr(r):r==null&&u==="string"?(r="",c=!0):u==="number"&&(r=0,c=!0)}try{e[t]=r}catch{}c&&e.removeAttribute(t)}const[_getNow,skipTimestampCheck]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener(e,t,r,n){e.addEventListener(t,r,n)}function removeEventListener(e,t,r,n){e.removeEventListener(t,r,n)}function patchEvent(e,t,r,n,o=null){const s=e._vei||(e._vei={}),a=s[t];if(n&&a)a.value=n;else{const[c,u]=parseName(t);if(n){const d=s[t]=createInvoker(n,o);addEventListener(e,c,d,u)}else a&&(removeEventListener(e,c,a,u),s[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[hyphenate(e.slice(2)),t]}function createInvoker(e,t){const r=n=>{const o=n.timeStamp||_getNow();(skipTimestampCheck||o>=r.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(n,r.value),t,5,[n])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,r,n,o=!1,s,a,c,u)=>{t==="class"?patchClass(e,n,o):t==="style"?patchStyle(e,r,n):isOn(t)?isModelListener(t)||patchEvent(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,n,o))?patchDOMProp(e,t,n,s,a,c,u):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),patchAttr(e,t,n,o))};function shouldSetAsProp(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(r)?!1:t in e}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=n=>{const o=normalizeContainer(n);if(!o)return;const s=t._component;!isFunction(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}function getIterator(e){if(typeof e.next=="function")return e;if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){let e,t;return{promise:new Promise((n,o)=>{t=n,e=o}),reject:e,resolve:t}}function _transform(e,t,r){const n=getIterator(r),o=[],s=[];let a=!1,c=!1,u=0,d=null;function h(){for(;s.length>0&&o.length>0;){const{resolve:m}=s.shift(),T=o.shift();m({done:!1,value:T})}for(;s.length>0&&u===0&&a;){const{resolve:m,reject:T}=s.shift();d?(T(d),d=null):m({done:!0,value:void 0})}}async function w(){if(a){h();return}if(!c&&!(u+o.length>=e)){c=!0,u++;try{const{done:m,value:T}=await n.next();m?(a=!0,u--,h()):b(T)}catch(m){a=!0,u--,d=m,h()}c=!1,w()}}async function b(m){try{const T=await t(m);o.push(T)}catch(T){a=!0,d=T}u--,h(),w()}async function B(){if(o.length===0){const T=defer();return s.push(T),w(),T.promise}const m=o.shift();return w(),{done:!1,value:m}}const v={next:B,[Symbol.asyncIterator]:()=>v};return v}function transform(e,t,r){return t===void 0?(n,o)=>o?transform(e,n,o):transform(e,n):r===void 0?n=>transform(e,t,n):_transform(e,t,r)}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}var pRetry$2={exports:{}},retry$2={};function RetryOperation(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],s=o.message,a=(e[s]||0)+1;e[s]=a,a>=r&&(t=o,r=a)}return t};(function(e){var t=retry_operation;e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in r)n[o]=r[o];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<n.retries;a++)s.push(this.createTimeout(a,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(a,n)),s.sort(function(c,u){return c-u}),s},e.createTimeout=function(r,n){var o=n.randomize?Math.random()+1:1,s=Math.round(o*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},e.wrap=function(r,n,o){if(n instanceof Array&&(o=n,n=null),!o){o=[];for(var s in r)typeof r[s]=="function"&&o.push(s)}for(var a=0;a<o.length;a++){var c=o[a],u=r[c];r[c]=function(h){var w=e.operation(n),b=Array.prototype.slice.call(arguments,1),B=b.pop();b.push(function(v){w.retry(v)||(v&&(arguments[0]=w.mainError()),B.apply(this,arguments))}),w.attempt(function(){h.apply(r,b)})}.bind(r,u),r[c].options=n}}})(retry$2);var retry$1=retry$2;const retry=retry$1,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class AbortError extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const decorateErrorWithCounts=(e,t,r)=>{const n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},isNetworkError=e=>networkErrorMsgs.includes(e),pRetry=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};const o=retry.operation(t);o.attempt(async s=>{try{r(await e(s))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof AbortError)o.stop(),n(a.originalError);else if(a instanceof TypeError&&!isNetworkError(a.message))o.stop(),n(a);else{decorateErrorWithCounts(a,s,t);try{await t.onFailedAttempt(a)}catch(c){n(c);return}o.retry(a)||n(o.mainError())}}})});pRetry$2.exports=pRetry;pRetry$2.exports.default=pRetry;pRetry$2.exports.AbortError=AbortError;var pRetry$1=pRetry$2.exports;const last=async e=>{let t;for await(const r of e)t=r;return t};var itLast=last,itPipe={exports:{}};const rawPipe=(...e)=>{let t;for(;e.length;)t=e.shift()(t);return t},isIterable$1=e=>e&&(typeof e[Symbol.asyncIterator]=="function"||typeof e[Symbol.iterator]=="function"||typeof e.next=="function"),isDuplex=e=>e&&typeof e.sink=="function"&&isIterable$1(e.source),duplexPipelineFn=e=>t=>(e.sink(t),e.source),pipe=(...e)=>{if(isDuplex(e[0])){const t=e[0];e[0]=()=>t.source}else if(isIterable$1(e[0])){const t=e[0];e[0]=()=>t}if(e.length>1&&isDuplex(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let t=1;t<e.length-1;t++)isDuplex(e[t])&&(e[t]=duplexPipelineFn(e[t]));return rawPipe(...e)};itPipe.exports=pipe;itPipe.exports.pipe=pipe;itPipe.exports.rawPipe=rawPipe;itPipe.exports.isIterable=isIterable$1;itPipe.exports.isDuplex=isDuplex;var pipe$1=itPipe.exports,encode_1$1=encode$9,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$9(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$9.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=INT$1;)t[r++]=e&255|MSB$3,e/=128;for(;e&MSBALL$1;)t[r++]=e&255|MSB$3,e>>>=7;return t[r]=e|0,encode$9.bytes=r-n+1,t}var decode$a=read$1,MSB$2=128,REST$2=127;function read$1(e,n){var r=0,n=n||0,o=0,s=n,a,c=e.length;do{if(s>=c||o>49)throw read$1.bytes=0,new RangeError("Could not decode varint");a=e[s++],r+=o<28?(a&REST$2)<<o:(a&REST$2)*Math.pow(2,o),o+=7}while(a>=MSB$2);return read$1.bytes=s-n,r}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$1?1:e<N2$1?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$a,encodingLength:length$1},encode_1=encode$8,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$8(e,t,r){t=t||[],r=r||0;for(var n=r;e>=INT;)t[r++]=e&255|MSB,e/=128;for(;e&MSBALL;)t[r++]=e&255|MSB,e>>>=7;return t[r]=e|0,encode$8.bytes=r-n+1,t}var decode$9=read,MSB$1=128,REST$1=127;function read(e,n){var r=0,n=n||0,o=0,s=n,a,c=e.length;do{if(s>=c)throw read.bytes=0,new RangeError("Could not decode varint");a=e[s++],r+=o<28?(a&REST$1)<<o:(a&REST$1)*Math.pow(2,o),o+=7}while(a>=MSB$1);return read.bytes=s-n,r}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1?1:e<N2?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$9,encodingLength:length},_brrp_varint=varint;const decode$8=e=>[_brrp_varint.decode(e),_brrp_varint.decode.bytes],encodeTo=(e,t,r=0)=>(_brrp_varint.encode(e,t,r),t),encodingLength=e=>_brrp_varint.encodingLength(e),empty=new Uint8Array(0),fromHex=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map(r=>parseInt(r,16))):empty},equals$2=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},fromString$3=e=>new TextEncoder().encode(e),toString$1=e=>new TextDecoder().decode(e),create$5=(e,t)=>{const r=t.byteLength,n=encodingLength(e),o=n+encodingLength(r),s=new Uint8Array(o+r);return encodeTo(e,s,0),encodeTo(r,s,n),s.set(t,o),new Digest(e,r,t,s)},decode$7=e=>{const t=coerce(e),[r,n]=decode$8(t),[o,s]=decode$8(t.subarray(n)),a=t.subarray(n+s);if(a.byteLength!==o)throw new Error("Incorrect length");return new Digest(r,o,a,t)},equals$1=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&equals$2(e.bytes,t.bytes);class Digest{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}function base(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var c=e.length,u=e.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function w(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var m=0,T=0,I=0,X=v.length;I!==X&&v[I]===0;)I++,m++;for(var N=(X-I)*h+1>>>0,F=new Uint8Array(N);I!==X;){for(var k=v[I],O=0,L=N-1;(k!==0||O<T)&&L!==-1;L--,O++)k+=256*F[L]>>>0,F[L]=k%c>>>0,k=k/c>>>0;if(k!==0)throw new Error("Non-zero carry");T=O,I++}for(var C=N-T;C!==N&&F[C]===0;)C++;for(var $=u.repeat(m);C<N;++C)$+=e.charAt(F[C]);return $}function b(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var m=0;if(v[m]!==" "){for(var T=0,I=0;v[m]===u;)T++,m++;for(var X=(v.length-m)*d+1>>>0,N=new Uint8Array(X);v[m];){var F=r[v.charCodeAt(m)];if(F===255)return;for(var k=0,O=X-1;(F!==0||k<I)&&O!==-1;O--,k++)F+=c*N[O]>>>0,N[O]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");I=k,m++}if(v[m]!==" "){for(var L=X-I;L!==X&&N[L]===0;)L++;for(var C=new Uint8Array(T+(X-L)),$=T;L!==X;)C[$++]=N[L++];return C}}}function B(v){var m=b(v);if(m)return m;throw new Error(`Non-${t} character`)}return{encode:w,decodeUnsafe:b,decode:B}}var src$2=base,_brrp__multiformats_scope_baseX=src$2;class Encoder{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,r,n){this.name=t,this.prefix=r,this.baseDecode=n}decode(t){if(typeof t=="string")switch(t[0]){case this.prefix:return this.baseDecode(t.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(t){return or(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(e,t)=>new ComposedDecoder({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from$1=({name:e,prefix:t,encode:r,decode:n})=>new Codec(e,t,r,n),baseX=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(r,t);return from$1({prefix:e,name:t,encode:n,decode:s=>coerce(o(s))})},decode$6=(e,t,r,n)=>{const o={};for(let h=0;h<t.length;++h)o[t[h]]=h;let s=e.length;for(;e[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const w=o[e[h]];if(w===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|w,c+=r,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=r||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},encode$7=(e,t,r)=>{const n=t[t.length-1]==="=",o=(1<<r)-1;let s="",a=0,c=0;for(let u=0;u<e.length;++u)for(c=c<<8|e[u],a+=8;a>r;)a-=r,s+=t[o&c>>a];if(a&&(s+=t[o&c<<r-a]),n)for(;s.length*r&7;)s+="=";return s},rfc4648=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>from$1({prefix:t,name:e,encode(o){return encode$7(o,n,r)},decode(o){return decode$6(o,n,r,e)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"}));const base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"}));class CID{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:r}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:r}=this.multihash,n=create$5(t,r);return CID.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&equals$1(this.multihash,t.multihash)}toString(t){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(r,o,t||base58btc.encoder);default:return toStringV1(r,o,t||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(t&&(t[cidSymbol]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(t!=null&&t.asCID===t){const{version:r,code:n,multihash:o,bytes:s}=t;return new CID(r,n,o,s||encodeCID(r,n,o.bytes))}else if(t!=null&&t[cidSymbol]===!0){const{version:r,multihash:n,code:o}=t,s=decode$7(n);return CID.create(r,o,s)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(t,r,n,n.bytes)}case 1:{const o=encodeCID(t,r,n.bytes);return new CID(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return CID.create(0,DAG_PB_CODE,t)}static createV1(t,r){return CID.create(1,t,r)}static decode(t){const[r,n]=CID.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){const r=CID.inspectBytes(t),n=r.size-r.multihashSize,o=coerce(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),a=new Digest(r.multihashCode,r.digestSize,s,o);return[r.version===0?CID.createV0(a):CID.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0;const n=()=>{const[w,b]=decode$8(t.subarray(r));return r+=b,w};let o=n(),s=DAG_PB_CODE;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=r,c=n(),u=n(),d=r+u,h=d-a;return{version:o,codec:s,multihashCode:c,digestSize:u,multihashSize:h,size:d}}static parse(t,r){const[n,o]=parseCIDtoBytes(t,r),s=CID.decode(o);return s._baseCache.set(n,t),s}}const parseCIDtoBytes=(e,t)=>{switch(e[0]){case"Q":{const r=t||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{const r=t||base58btc;return[base58btc.prefix,r.decode(e)]}case base32.prefix:{const r=t||base32;return[base32.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},toStringV0=(e,t,r)=>{const{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=t.get(n);if(o==null){const s=r.encode(e).slice(1);return t.set(n,s),s}else return o},toStringV1=(e,t,r)=>{const{prefix:n}=r,o=t.get(n);if(o==null){const s=r.encode(e);return t.set(n,s),s}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(e,t,r)=>{const n=encodingLength(e),o=n+encodingLength(t),s=new Uint8Array(o+r.byteLength);return encodeTo(e,s,0),encodeTo(t,s,n),s.set(r,o),s},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(e,t)=>{if(e.test(version))console.warn(t);else throw new Error(t)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(typeofs.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(isBuffer$1(e))return"Buffer";const r=getObjectType(e);return r||"Object"}function isBuffer$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(t))return t}class Type{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const toString=useBuffer?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):utf8Slice(e,t,r):(e,t,r)=>r-t>64?textDecoder$1.decode(e.subarray(t,r)):utf8Slice(e,t,r),fromString$2=useBuffer?e=>e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e):e=>e.length>64?textEncoder$2.encode(e):utf8ToBytes(e),fromArray=e=>Uint8Array.from(e),slice=useBuffer?(e,t,r)=>isBuffer(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),concat$2=useBuffer?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc=useBuffer?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function compare(e,t){if(isBuffer(e)&&isBuffer(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function utf8ToBytes(e,t=1/0){let r;const n=e.length;let o=null;const s=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function utf8Slice(e,t,r){const n=[];for(;t<r;){const o=e[t];let s=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=r){let c,u,d,h;switch(a){case 1:o<128&&(s=o);break;case 2:c=e[t+1],(c&192)===128&&(h=(o&31)<<6|c&63,h>127&&(s=h));break;case 3:c=e[t+1],u=e[t+2],(c&192)===128&&(u&192)===128&&(h=(o&15)<<12|(c&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:c=e[t+1],u=e[t+2],d=e[t+3],(c&192)===128&&(u&192)===128&&(d&192)===128&&(h=(o&15)<<18|(c&63)<<12|(u&63)<<6|d&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=a}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){const t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}const defaultChunkSize=256;class Bl{constructor(t=defaultChunkSize){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice(n,0,this.cursor)}else r=concat$2(this.chunks,this.cursor);return t&&this.reset(),r}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,t,r){if(e.length-t<r)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,t,r){assertEnoughData(e,t,1);const n=e[t];if(r.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(e,t,r){assertEnoughData(e,t,2);const n=e[t]<<8|e[t+1];if(r.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(e,t,r){assertEnoughData(e,t,4);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(e,t,r){assertEnoughData(e,t,8);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(e,t,r,n){return new Token(Type.uint,readUint8(e,t+1,n),2)}function decodeUint16(e,t,r,n){return new Token(Type.uint,readUint16(e,t+1,n),3)}function decodeUint32(e,t,r,n){return new Token(Type.uint,readUint32(e,t+1,n),5)}function decodeUint64(e,t,r,n){return new Token(Type.uint,readUint64(e,t+1,n),9)}function encodeUint(e,t){return encodeUintValue(e,0,t.value)}function encodeUintValue(e,t,r){if(r<uintBoundaries[0]){const n=Number(r);e.push([t|n])}else if(r<uintBoundaries[1]){const n=Number(r);e.push([t|24,n])}else if(r<uintBoundaries[2]){const n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<uintBoundaries[3]){const n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries[4]){const o=[t|27,0,0,0,0,0,0,0];let s=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,e.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};encodeUintValue.encodedSize=function(t){return t<uintBoundaries[0]?1:t<uintBoundaries[1]?2:t<uintBoundaries[2]?3:t<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function decodeNegint8(e,t,r,n){return new Token(Type.negint,-1-readUint8(e,t+1,n),2)}function decodeNegint16(e,t,r,n){return new Token(Type.negint,-1-readUint16(e,t+1,n),3)}function decodeNegint32(e,t,r,n){return new Token(Type.negint,-1-readUint32(e,t+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o!="bigint"){const s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(e,t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;encodeUintValue(e,t.type.majorEncoded,n)}encodeNegint.encodedSize=function(t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function toToken$3(e,t,r,n){assertEnoughData(e,t,r+n);const o=slice(e,t+r,t+r+n);return new Token(Type.bytes,o,r+n)}function decodeBytesCompact(e,t,r,n){return toToken$3(e,t,1,r)}function decodeBytes8(e,t,r,n){return toToken$3(e,t,2,readUint8(e,t+1,n))}function decodeBytes16(e,t,r,n){return toToken$3(e,t,3,readUint16(e,t+1,n))}function decodeBytes32(e,t,r,n){return toToken$3(e,t,5,readUint32(e,t+1,n))}function decodeBytes64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(e,t,9,o)}function tokenBytes(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===Type.string?fromString$2(e.value):e.value),e.encodedBytes}function encodeBytes(e,t){const r=tokenBytes(t);encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}encodeBytes.encodedSize=function(t){const r=tokenBytes(t);return encodeUintValue.encodedSize(r.length)+r.length};encodeBytes.compareTokens=function(t,r){return compareBytes(tokenBytes(t),tokenBytes(r))};function compareBytes(e,t){return e.length<t.length?-1:e.length>t.length?1:compare(e,t)}function toToken$2(e,t,r,n,o){const s=r+n;assertEnoughData(e,t,s);const a=new Token(Type.string,toString(e,t+r,t+s),s);return o.retainStringBytes===!0&&(a.byteValue=slice(e,t+r,t+s)),a}function decodeStringCompact(e,t,r,n){return toToken$2(e,t,1,r,n)}function decodeString8(e,t,r,n){return toToken$2(e,t,2,readUint8(e,t+1,n),n)}function decodeString16(e,t,r,n){return toToken$2(e,t,3,readUint16(e,t+1,n),n)}function decodeString32(e,t,r,n){return toToken$2(e,t,5,readUint32(e,t+1,n),n)}function decodeString64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(e,t,9,o,n)}const encodeString=encodeBytes;function toToken$1(e,t,r,n){return new Token(Type.array,n,r)}function decodeArrayCompact(e,t,r,n){return toToken$1(e,t,1,r)}function decodeArray8(e,t,r,n){return toToken$1(e,t,2,readUint8(e,t+1,n))}function decodeArray16(e,t,r,n){return toToken$1(e,t,3,readUint16(e,t+1,n))}function decodeArray32(e,t,r,n){return toToken$1(e,t,5,readUint32(e,t+1,n))}function decodeArray64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(e,t,9,o)}function decodeArrayIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(e,t,1,1/0)}function encodeArray(e,t){encodeUintValue(e,Type.array.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function toToken(e,t,r,n){return new Token(Type.map,n,r)}function decodeMapCompact(e,t,r,n){return toToken(e,t,1,r)}function decodeMap8(e,t,r,n){return toToken(e,t,2,readUint8(e,t+1,n))}function decodeMap16(e,t,r,n){return toToken(e,t,3,readUint16(e,t+1,n))}function decodeMap32(e,t,r,n){return toToken(e,t,5,readUint32(e,t+1,n))}function decodeMap64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(e,t,9,o)}function decodeMapIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(e,t,1,1/0)}function encodeMap(e,t){encodeUintValue(e,Type.map.majorEncoded,t.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function decodeTagCompact(e,t,r,n){return new Token(Type.tag,r,1)}function decodeTag8(e,t,r,n){return new Token(Type.tag,readUint8(e,t+1,n),2)}function decodeTag16(e,t,r,n){return new Token(Type.tag,readUint16(e,t+1,n),3)}function decodeTag32(e,t,r,n){return new Token(Type.tag,readUint32(e,t+1,n),5)}function decodeTag64(e,t,r,n){return new Token(Type.tag,readUint64(e,t+1,n),9)}function encodeTag(e,t){encodeUintValue(e,Type.tag.majorEncoded,t.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,e,t)}function decodeFloat16(e,t,r,n){return createToken(readFloat16(e,t+1),3,n)}function decodeFloat32(e,t,r,n){return createToken(readFloat32(e,t+1),5,n)}function decodeFloat64(e,t,r,n){return createToken(readFloat64(e,t+1),9,n)}function encodeFloat(e,t,r){const n=t.value;if(n===!1)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,s=!1;(!r||r.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),s=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),s=!0))),s||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(t,r){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16(n);let o=readFloat16(ui8a,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);const t=dataView.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)dataView.setUint16(0,31744,!1);else if(r===0)dataView.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(e,t){if(e.length-t<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,t){if(e.length-t<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,t){if(e.length-t<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(e,t,r){throw new Error(`${decodeErrPrefix} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function errorer(e){return()=>{throw new Error(`${decodeErrPrefix} ${e}`)}}const jump=[];for(let e=0;e<=23;e++)jump[e]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let e=32;e<=55;e++)jump[e]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let e=64;e<=87;e++)jump[e]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)jump[e]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)jump[e]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let e=160;e<=183;e++)jump[e]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let e=192;e<=215;e++)jump[e]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let e=224;e<=243;e++)jump[e]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let e=0;e<24;e++)quick[e]=new Token(Type.uint,e,1);for(let e=-1;e>=-24;e--)quick[31-e]=new Token(Type.negint,e,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return e.value===""?fromArray([96]):void 0;case Type.array:return e.value===0?fromArray([128]):void 0;case Type.map:return e.value===0?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){const e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(r,t)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new Token(Type.float,e):e>=0?new Token(Type.uint,e):new Token(Type.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array(e,t,r,n){return new Token(Type.bytes,e)},string(e,t,r,n){return new Token(Type.string,e)},boolean(e,t,r,n){return e?simpleTokens.true:simpleTokens.false},null(e,t,r,n){return simpleTokens.null},undefined(e,t,r,n){return simpleTokens.undefined},ArrayBuffer(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,e);const o=[];let s=0;for(const a of e)o[s++]=objectToTokens(a,r,n);return r.addBreakTokens?[new Token(Type.array,e.length),o,new Token(Type.break)]:[new Token(Type.array,e.length),o]},Object(e,t,r,n){const o=t!=="Object",s=o?e.keys():Object.keys(e),a=o?e.size:s.length;if(!a)return r.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,e);const c=[];let u=0;for(const d of s)c[u++]=[objectToTokens(d,r,n),objectToTokens(o?e.get(d):e[d],r,n)];return sortMapEntries(c,r),r.addBreakTokens?[new Token(Type.map,a),c,new Token(Type.break)]:[new Token(Type.map,a),c]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${e}Array`]=typeEncoders.DataView;function objectToTokens(e,t={},r){const n=is(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const a=o(e,n,t,r);if(a!=null)return a}const s=typeEncoders[n];if(!s)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return s(e,n,t,r)}function sortMapEntries(e,t){t.mapSorter&&e.sort(t.mapSorter)}function mapSorter(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,s=cborEncoders[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function tokensToEncoded(e,t,r,n){if(Array.isArray(t))for(const o of t)tokensToEncoded(e,o,r,n);else r[t.type.major](e,t,n)}function encodeCustom(e,t,r){const n=objectToTokens(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const s=t[n.type.major];if(s.encodedSize){const a=s.encodedSize(n,r),c=new Bl(a);if(s(c,n,r),c.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(c.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,r),buf.toBytes(!0)}function encode$6(e,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(e,cborEncoders,t)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let r=quick[t];if(r===void 0){const n=jump[t];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,t,r){const n=[];for(let o=0;o<e.value;o++){const s=tokensToObject(t,r);if(s===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(s===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function tokenToMap(e,t,r){const n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let a=0;a<e.value;a++){const c=tokensToObject(t,r);if(c===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(c===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(n!==!0&&typeof c!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof c})`);const u=tokensToObject(t,r);if(u===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?s.set(c,u):o[c]=u}return n?s:o}function tokensToObject(e,t){if(e.done())return DONE;const r=e.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,e,t);if(r.type===Type.map)return tokenToMap(r,e,t);if(r.type===Type.tag){if(t.tags&&typeof t.tags[r.value]=="function"){const n=tokensToObject(e,t);return t.tags[r.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$5(e,t){if(!(e instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);t=Object.assign({},defaultDecodeOptions,t);const r=t.tokenizer||new Tokeniser(e,t),n=tokensToObject(r,t);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG$2=42;function cidEncoder$2(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG$2),new Token(Type.bytes,r)]}function undefinedEncoder$2(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$2(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$2={float64:!0,typeEncoders:{Object:cidEncoder$2,undefined:undefinedEncoder$2,number:numberEncoder$2}};function cidDecoder$2(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}const decodeOptions$2={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$2.tags[CID_CBOR_TAG$2]=cidDecoder$2;const code$5=113,encode$5=e=>encode$6(e,encodeOptions$2),decode$4=e=>decode$5(e,decodeOptions$2),CIDV0_BYTES$2={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint$2(e){const t=await e.upTo(8),r=varint$1.decode(t);return e.seek(varint$1.decode.bytes),r}async function readHeader$2(e){const t=await readVarint$2(e);if(t===0)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(t);e.seek(t);const n=decode$4(r);if(n==null||Array.isArray(n)||typeof n!="object")throw new Error("Invalid CAR header format");if(n.version!==1)throw typeof n.version=="string"?new Error(`Invalid CAR version: "${n.version}"`):new Error(`Invalid CAR version: ${n.version}`);if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter(o=>o!=="roots"&&o!=="version").length)throw new Error("Invalid CAR header format");return n}async function readMultihash$2(e){const t=await e.upTo(8);varint$1.decode(t);const r=varint$1.decode.bytes,n=varint$1.decode(t.subarray(varint$1.decode.bytes)),o=varint$1.decode.bytes,s=r+o+n,a=await e.exactly(s);return e.seek(s),a}async function readCid$2(e){const t=await e.exactly(2);if(t[0]===CIDV0_BYTES$2.SHA2_256&&t[1]===CIDV0_BYTES$2.LENGTH){const a=await e.exactly(34);e.seek(34);const c=decode$7(a);return CID.create(0,CIDV0_BYTES$2.DAG_PB,c)}const r=await readVarint$2(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint$2(e),o=await readMultihash$2(e),s=decode$7(o);return CID.create(r,n,s)}async function readBlockHead$2(e){const t=e.pos;let r=await readVarint$2(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await readCid$2(e),o=r-(e.pos-t);return{cid:n,length:r,blockLength:o}}async function readBlock$2(e){const{cid:t,blockLength:r}=await readBlockHead$2(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function readBlockIndex$2(e){const t=e.pos,{cid:r,length:n,blockLength:o}=await readBlockHead$2(e),s={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function createDecoder$2(e){const t=readHeader$2(e);return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await readBlock$2(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await readBlockIndex$2(e)}}}function bytesReader$2(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function chunkReader$2(e){let t=0,r=0,n=0,o=new Uint8Array(0);const s=async a=>{r=o.length-n;const c=[o.subarray(n)];for(;r<a;){const d=await e();if(d==null)break;r<0?d.length>r&&c.push(d.subarray(-r)):c.push(d),r+=d.length}o=new Uint8Array(c.reduce((d,h)=>d+h.length,0));let u=0;for(const d of c)o.set(d,u),u+=d.length;n=0};return{async upTo(a){return o.length-n<a&&await s(a),o.subarray(n,n+Math.min(o.length-n,a))},async exactly(a){if(o.length-n<a&&await s(a),o.length-n<a)throw new Error("Unexpected end of data");return o.subarray(n,n+a)},seek(a){t+=a,n+=a},get pos(){return t}}}function asyncIterableReader$2(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return chunkReader$2(r)}class CarIteratorBase{constructor(t,r,n){this._version=t,this._roots=r,this._iterable=n,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class CarBlockIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(t){const{version:r,roots:n,iterator:o}=await fromBytes(t);return new CarBlockIterator(r,n,o)}static async fromIterable(t){const{version:r,roots:n,iterator:o}=await fromIterable(t);return new CarBlockIterator(r,n,o)}}async function fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIterator(bytesReader$2(e))}async function fromIterable(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeIterator(asyncIterableReader$2(e))}async function decodeIterator(e){const t=createDecoder$2(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}function createHeader$1(e){const t=encode$5({version:1,roots:e}),r=varint$1.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function createEncoder$1(e){return{async setRoots(t){const r=createHeader$1(t);await e.write(r)},async writeBlock(t){const{cid:r,bytes:n}=t;await e.write(new Uint8Array(varint$1.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},async close(){return e.end()}}}function noop$2(){}function create$4(){const e=[];let t=null,r=noop$2,n=!1,o=null,s=noop$2;const a=()=>(t||(t=new Promise(d=>{r=()=>{t=null,r=noop$2,d()}})),t),c={write(d){e.push(d);const h=a();return s(),h},async end(){n=!0;const d=a();return s(),d}},u={async next(){const d=e.shift();return d?(e.length===0&&r(),{done:!1,value:d}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(h=>{s=()=>(o=null,s=noop$2,h(u.next()))})),o)}};return{writer:c,iterator:u}}class CarWriter$1{constructor(t,r){this._encoder=r,this._mutex=r.setRoots(t),this._ended=!1}async put(t){if(!(t.bytes instanceof Uint8Array)||!t.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const r=CID.asCID(t.cid);if(!r)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:r,bytes:t.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(t){t=toRoots$1(t);const{encoder:r,iterator:n}=encodeWriter$1(),o=new CarWriter$1(t,r),s=new CarWriterOut$1(n);return{writer:o,out:s}}static createAppender(){const{encoder:t,iterator:r}=encodeWriter$1();t.setRoots=()=>Promise.resolve();const n=new CarWriter$1([],t),o=new CarWriterOut$1(r);return{writer:n,out:o}}static async updateRootsInBytes(t,r){const n=bytesReader$2(t);await readHeader$2(n);const o=createHeader$1(r);if(n.pos!==o.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${o.length} bytes)`);return t.set(o,0),t}}class CarWriterOut$1{constructor(t){this._iterator=t}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter$1(){const e=create$4(),{writer:t,iterator:r}=e;return{encoder:createEncoder$1(t),iterator:r}}function toRoots$1(e){if(e===void 0)return[];if(!Array.isArray(e)){const r=CID.asCID(e);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}const t=[];for(const r of e){const n=CID.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(n)}return t}async function*batch$1(e,t=1){let r=[];t<1&&(t=1);for await(const n of e)for(r.push(n);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length;)yield r.slice(0,t),r=r.slice(t)}var itBatch=batch$1;const batch=itBatch;async function*parallelBatch(e,t=1){for await(const r of batch(e,t)){const n=r.map(o=>o().then(s=>({ok:!0,value:s}),s=>({ok:!1,err:s})));for(let o=0;o<n.length;o++){const s=await n[o];if(s.ok)yield s.value;else throw s.err}}}var itParallelBatch=parallelBatch,isPlainObj=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=e=>{const t=[];for(const r in e)hasOwnProperty.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(const n of r)propertyIsEnumerable.call(e,n)&&t.push(n)}return t};function clone(e){return Array.isArray(e)?cloneArray(e):isOptionObject(e)?cloneOptionObject(e):e}function cloneArray(e){const t=e.slice(0,0);return getEnumerableOwnPropertyKeys(e).forEach(r=>{defineProperty(t,r,clone(e[r]))}),t}function cloneOptionObject(e){const t=Object.getPrototypeOf(e)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(e).forEach(r=>{defineProperty(t,r,clone(e[r]))}),t}const mergeKeys=(e,t,r,n)=>(r.forEach(o=>{typeof t[o]=="undefined"&&n.ignoreUndefined||(o in e&&e[o]!==Object.getPrototypeOf(e)?defineProperty(e,o,merge(e[o],t[o],n)):defineProperty(e,o,clone(t[o])))}),e),concatArrays=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(s=>{const a=[];for(let c=0;c<s.length;c++)!hasOwnProperty.call(s,c)||(a.push(String(c)),s===e?defineProperty(n,o++,s[c]):defineProperty(n,o++,clone(s[c])));n=mergeKeys(n,s,getEnumerableOwnPropertyKeys(s).filter(c=>!a.includes(c)),r)}),n};function merge(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?concatArrays(e,t,r):!isOptionObject(t)||!isOptionObject(e)?clone(t):mergeKeys(e,t,getEnumerableOwnPropertyKeys(t),r)}var mergeOptions=function(...e){const t=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let r={_:{}};for(const n of e)if(n!==void 0){if(!isOptionObject(n))throw new TypeError("`"+n+"` is not an Option Object");r=merge(r,{_:n},t)}return r._};const from=({name:e,code:t,encode:r})=>new Hasher(e,t,r);class Hasher{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?create$5(this.code,r):r.then(n=>create$5(this.code,n))}else throw Error("Unknown type, must be binary type")}}const sha=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from({name:"sha2-512",code:19,encode:sha("SHA-512")});var sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),murmurHash3js={exports:{}};(function(e,t){(function(r,n){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(m){if(!Array.isArray(m)&&!ArrayBuffer.isView(m))return!1;for(var T=0;T<m.length;T++)if(!Number.isInteger(m[T])||m[T]<0||m[T]>255)return!1;return!0}function a(m,T){return(m&65535)*T+(((m>>>16)*T&65535)<<16)}function c(m,T){return m<<T|m>>>32-T}function u(m){return m^=m>>>16,m=a(m,2246822507),m^=m>>>13,m=a(m,3266489909),m^=m>>>16,m}function d(m,T){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535],T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535];var I=[0,0,0,0];return I[3]+=m[3]+T[3],I[2]+=I[3]>>>16,I[3]&=65535,I[2]+=m[2]+T[2],I[1]+=I[2]>>>16,I[2]&=65535,I[1]+=m[1]+T[1],I[0]+=I[1]>>>16,I[1]&=65535,I[0]+=m[0]+T[0],I[0]&=65535,[I[0]<<16|I[1],I[2]<<16|I[3]]}function h(m,T){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535],T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535];var I=[0,0,0,0];return I[3]+=m[3]*T[3],I[2]+=I[3]>>>16,I[3]&=65535,I[2]+=m[2]*T[3],I[1]+=I[2]>>>16,I[2]&=65535,I[2]+=m[3]*T[2],I[1]+=I[2]>>>16,I[2]&=65535,I[1]+=m[1]*T[3],I[0]+=I[1]>>>16,I[1]&=65535,I[1]+=m[2]*T[2],I[0]+=I[1]>>>16,I[1]&=65535,I[1]+=m[3]*T[1],I[0]+=I[1]>>>16,I[1]&=65535,I[0]+=m[0]*T[3]+m[1]*T[2]+m[2]*T[1]+m[3]*T[0],I[0]&=65535,[I[0]<<16|I[1],I[2]<<16|I[3]]}function w(m,T){return T%=64,T===32?[m[1],m[0]]:T<32?[m[0]<<T|m[1]>>>32-T,m[1]<<T|m[0]>>>32-T]:(T-=32,[m[1]<<T|m[0]>>>32-T,m[0]<<T|m[1]>>>32-T])}function b(m,T){return T%=64,T===0?m:T<32?[m[0]<<T|m[1]>>>32-T,m[1]<<T]:[m[1]<<T-32,0]}function B(m,T){return[m[0]^T[0],m[1]^T[1]]}function v(m){return m=B(m,[0,m[0]>>>1]),m=h(m,[4283543511,3981806797]),m=B(m,[0,m[0]>>>1]),m=h(m,[3301882366,444984403]),m=B(m,[0,m[0]>>>1]),m}o.x86.hash32=function(m,T){if(o.inputValidation&&!s(m))return n;T=T||0;for(var I=m.length%4,X=m.length-I,N=T,F=0,k=3432918353,O=461845907,L=0;L<X;L=L+4)F=m[L]|m[L+1]<<8|m[L+2]<<16|m[L+3]<<24,F=a(F,k),F=c(F,15),F=a(F,O),N^=F,N=c(N,13),N=a(N,5)+3864292196;switch(F=0,I){case 3:F^=m[L+2]<<16;case 2:F^=m[L+1]<<8;case 1:F^=m[L],F=a(F,k),F=c(F,15),F=a(F,O),N^=F}return N^=m.length,N=u(N),N>>>0},o.x86.hash128=function(m,T){if(o.inputValidation&&!s(m))return n;T=T||0;for(var I=m.length%16,X=m.length-I,N=T,F=T,k=T,O=T,L=0,C=0,$=0,Y=0,ae=597399067,fe=2869860233,he=951274213,ye=2716044179,ne=0;ne<X;ne=ne+16)L=m[ne]|m[ne+1]<<8|m[ne+2]<<16|m[ne+3]<<24,C=m[ne+4]|m[ne+5]<<8|m[ne+6]<<16|m[ne+7]<<24,$=m[ne+8]|m[ne+9]<<8|m[ne+10]<<16|m[ne+11]<<24,Y=m[ne+12]|m[ne+13]<<8|m[ne+14]<<16|m[ne+15]<<24,L=a(L,ae),L=c(L,15),L=a(L,fe),N^=L,N=c(N,19),N+=F,N=a(N,5)+1444728091,C=a(C,fe),C=c(C,16),C=a(C,he),F^=C,F=c(F,17),F+=k,F=a(F,5)+197830471,$=a($,he),$=c($,17),$=a($,ye),k^=$,k=c(k,15),k+=O,k=a(k,5)+2530024501,Y=a(Y,ye),Y=c(Y,18),Y=a(Y,ae),O^=Y,O=c(O,13),O+=N,O=a(O,5)+850148119;switch(L=0,C=0,$=0,Y=0,I){case 15:Y^=m[ne+14]<<16;case 14:Y^=m[ne+13]<<8;case 13:Y^=m[ne+12],Y=a(Y,ye),Y=c(Y,18),Y=a(Y,ae),O^=Y;case 12:$^=m[ne+11]<<24;case 11:$^=m[ne+10]<<16;case 10:$^=m[ne+9]<<8;case 9:$^=m[ne+8],$=a($,he),$=c($,17),$=a($,ye),k^=$;case 8:C^=m[ne+7]<<24;case 7:C^=m[ne+6]<<16;case 6:C^=m[ne+5]<<8;case 5:C^=m[ne+4],C=a(C,fe),C=c(C,16),C=a(C,he),F^=C;case 4:L^=m[ne+3]<<24;case 3:L^=m[ne+2]<<16;case 2:L^=m[ne+1]<<8;case 1:L^=m[ne],L=a(L,ae),L=c(L,15),L=a(L,fe),N^=L}return N^=m.length,F^=m.length,k^=m.length,O^=m.length,N+=F,N+=k,N+=O,F+=N,k+=N,O+=N,N=u(N),F=u(F),k=u(k),O=u(O),N+=F,N+=k,N+=O,F+=N,k+=N,O+=N,("00000000"+(N>>>0).toString(16)).slice(-8)+("00000000"+(F>>>0).toString(16)).slice(-8)+("00000000"+(k>>>0).toString(16)).slice(-8)+("00000000"+(O>>>0).toString(16)).slice(-8)},o.x64.hash128=function(m,T){if(o.inputValidation&&!s(m))return n;T=T||0;for(var I=m.length%16,X=m.length-I,N=[0,T],F=[0,T],k=[0,0],O=[0,0],L=[2277735313,289559509],C=[1291169091,658871167],$=0;$<X;$=$+16)k=[m[$+4]|m[$+5]<<8|m[$+6]<<16|m[$+7]<<24,m[$]|m[$+1]<<8|m[$+2]<<16|m[$+3]<<24],O=[m[$+12]|m[$+13]<<8|m[$+14]<<16|m[$+15]<<24,m[$+8]|m[$+9]<<8|m[$+10]<<16|m[$+11]<<24],k=h(k,L),k=w(k,31),k=h(k,C),N=B(N,k),N=w(N,27),N=d(N,F),N=d(h(N,[0,5]),[0,1390208809]),O=h(O,C),O=w(O,33),O=h(O,L),F=B(F,O),F=w(F,31),F=d(F,N),F=d(h(F,[0,5]),[0,944331445]);switch(k=[0,0],O=[0,0],I){case 15:O=B(O,b([0,m[$+14]],48));case 14:O=B(O,b([0,m[$+13]],40));case 13:O=B(O,b([0,m[$+12]],32));case 12:O=B(O,b([0,m[$+11]],24));case 11:O=B(O,b([0,m[$+10]],16));case 10:O=B(O,b([0,m[$+9]],8));case 9:O=B(O,[0,m[$+8]]),O=h(O,C),O=w(O,33),O=h(O,L),F=B(F,O);case 8:k=B(k,b([0,m[$+7]],56));case 7:k=B(k,b([0,m[$+6]],48));case 6:k=B(k,b([0,m[$+5]],40));case 5:k=B(k,b([0,m[$+4]],32));case 4:k=B(k,b([0,m[$+3]],24));case 3:k=B(k,b([0,m[$+2]],16));case 2:k=B(k,b([0,m[$+1]],8));case 1:k=B(k,[0,m[$]]),k=h(k,L),k=w(k,31),k=h(k,C),N=B(N,k)}return N=B(N,[0,m.length]),F=B(F,[0,m.length]),N=d(N,F),F=d(F,N),N=v(N),F=v(F),N=d(N,F),F=d(F,N),("00000000"+(N[0]>>>0).toString(16)).slice(-8)+("00000000"+(N[1]>>>0).toString(16)).slice(-8)+("00000000"+(F[0]>>>0).toString(16)).slice(-8)+("00000000"+(F[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=o),t.murmurHash3=o})()})(murmurHash3js,murmurHash3js.exports);var murmurhash3jsRevisited=murmurHash3js.exports;function fromNumberTo32BitBuf(e){const t=new Array(4);for(let r=0;r<4;r++)t[r]=e&255,e=e>>8;return new Uint8Array(t)}from({name:"murmur3-32",code:35,encode:e=>fromNumberTo32BitBuf(murmurhash3jsRevisited.x86.hash32(e))});const murmur3128=from({name:"murmur3-128",code:34,encode:e=>fromHex(murmurhash3jsRevisited.x64.hash128(e))});async function hamtHashFn(e){return(await murmur3128.encode(e)).slice(0,8).reverse()}const defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8};var defaultOptions$1=(e={})=>mergeOptions.bind({ignoreUndefined:!0})(defaultOptions,e);function assign(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function createError(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return assign(e,r)}catch{r.message=e.message,r.stack=e.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),assign(new o,r)}}var errCode=createError,indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,s=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise(function(c,u){r[n]=function(h){if(s)if(s=!1,h)u(h);else{for(var w=new Array(arguments.length-1),b=0;b<w.length;)w[b++]=arguments[b];c.apply(null,w)}};try{e.apply(t||null,r)}catch(d){s&&(s=!1,u(d))}})}var base64$3={};(function(e){var t=e;t.length=function(c){var u=c.length;if(!u)return 0;for(var d=0;--u%4>1&&c.charAt(u)==="=";)++d;return Math.ceil(c.length*3)/4-d};for(var r=new Array(64),n=new Array(123),o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;t.encode=function(c,u,d){for(var h=null,w=[],b=0,B=0,v;u<d;){var m=c[u++];switch(B){case 0:w[b++]=r[m>>2],v=(m&3)<<4,B=1;break;case 1:w[b++]=r[v|m>>4],v=(m&15)<<2,B=2;break;case 2:w[b++]=r[v|m>>6],w[b++]=r[m&63],B=0;break}b>8191&&((h||(h=[])).push(String.fromCharCode.apply(String,w)),b=0)}return B&&(w[b++]=r[v],w[b++]=61,B===1&&(w[b++]=61)),h?(b&&h.push(String.fromCharCode.apply(String,w.slice(0,b))),h.join("")):String.fromCharCode.apply(String,w.slice(0,b))};var s="invalid encoding";t.decode=function(c,u,d){for(var h=d,w=0,b,B=0;B<c.length;){var v=c.charCodeAt(B++);if(v===61&&w>1)break;if((v=n[v])===void 0)throw Error(s);switch(w){case 0:b=v,w=1;break;case 1:u[d++]=b<<2|(v&48)>>4,b=v,w=2;break;case 2:u[d++]=(b&15)<<4|(v&60)>>2,b=v,w=3;break;case 3:u[d++]=(b&3)<<6|v,w=0;break}}if(w===1)throw Error(s);return d-h},t.test=function(c){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(c)}})(base64$3);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};EventEmitter.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],o=0;o<n.length;)n[o].fn===r?n.splice(o,1):++o;return this};EventEmitter.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<r.length;)r[o].fn.apply(r[o++].ctx,n)}return this};var float=factory(factory);function factory(e){return typeof Float32Array!="undefined"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function o(u,d,h){t[0]=u,d[h]=r[0],d[h+1]=r[1],d[h+2]=r[2],d[h+3]=r[3]}function s(u,d,h){t[0]=u,d[h]=r[3],d[h+1]=r[2],d[h+2]=r[1],d[h+3]=r[0]}e.writeFloatLE=n?o:s,e.writeFloatBE=n?s:o;function a(u,d){return r[0]=u[d],r[1]=u[d+1],r[2]=u[d+2],r[3]=u[d+3],t[0]}function c(u,d){return r[3]=u[d],r[2]=u[d+1],r[1]=u[d+2],r[0]=u[d+3],t[0]}e.readFloatLE=n?a:c,e.readFloatBE=n?c:a}():function(){function t(n,o,s,a){var c=o<0?1:0;if(c&&(o=-o),o===0)n(1/o>0?0:2147483648,s,a);else if(isNaN(o))n(2143289344,s,a);else if(o>34028234663852886e22)n((c<<31|2139095040)>>>0,s,a);else if(o<11754943508222875e-54)n((c<<31|Math.round(o/1401298464324817e-60))>>>0,s,a);else{var u=Math.floor(Math.log(o)/Math.LN2),d=Math.round(o*Math.pow(2,-u)*8388608)&8388607;n((c<<31|u+127<<23|d)>>>0,s,a)}}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE);function r(n,o,s){var a=n(o,s),c=(a>>31)*2+1,u=a>>>23&255,d=a&8388607;return u===255?d?NaN:c*(1/0):u===0?c*1401298464324817e-60*d:c*Math.pow(2,u-150)*(d+8388608)}e.readFloatLE=r.bind(null,readUintLE),e.readFloatBE=r.bind(null,readUintBE)}(),typeof Float64Array!="undefined"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function o(u,d,h){t[0]=u,d[h]=r[0],d[h+1]=r[1],d[h+2]=r[2],d[h+3]=r[3],d[h+4]=r[4],d[h+5]=r[5],d[h+6]=r[6],d[h+7]=r[7]}function s(u,d,h){t[0]=u,d[h]=r[7],d[h+1]=r[6],d[h+2]=r[5],d[h+3]=r[4],d[h+4]=r[3],d[h+5]=r[2],d[h+6]=r[1],d[h+7]=r[0]}e.writeDoubleLE=n?o:s,e.writeDoubleBE=n?s:o;function a(u,d){return r[0]=u[d],r[1]=u[d+1],r[2]=u[d+2],r[3]=u[d+3],r[4]=u[d+4],r[5]=u[d+5],r[6]=u[d+6],r[7]=u[d+7],t[0]}function c(u,d){return r[7]=u[d],r[6]=u[d+1],r[5]=u[d+2],r[4]=u[d+3],r[3]=u[d+4],r[2]=u[d+5],r[1]=u[d+6],r[0]=u[d+7],t[0]}e.readDoubleLE=n?a:c,e.readDoubleBE=n?c:a}():function(){function t(n,o,s,a,c,u){var d=a<0?1:0;if(d&&(a=-a),a===0)n(0,c,u+o),n(1/a>0?0:2147483648,c,u+s);else if(isNaN(a))n(0,c,u+o),n(2146959360,c,u+s);else if(a>17976931348623157e292)n(0,c,u+o),n((d<<31|2146435072)>>>0,c,u+s);else{var h;if(a<22250738585072014e-324)h=a/5e-324,n(h>>>0,c,u+o),n((d<<31|h/4294967296)>>>0,c,u+s);else{var w=Math.floor(Math.log(a)/Math.LN2);w===1024&&(w=1023),h=a*Math.pow(2,-w),n(h*4503599627370496>>>0,c,u+o),n((d<<31|w+1023<<20|h*1048576&1048575)>>>0,c,u+s)}}}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0);function r(n,o,s,a,c){var u=n(a,c+o),d=n(a,c+s),h=(d>>31)*2+1,w=d>>>20&2047,b=4294967296*(d&1048575)+u;return w===2047?b?NaN:h*(1/0):w===0?h*5e-324*b:h*Math.pow(2,w-1075)*(b+4503599627370496)}e.readDoubleLE=r.bind(null,readUintLE,0,4),e.readDoubleBE=r.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8$2={};(function(e){var t=e;t.length=function(n){for(var o=0,s=0,a=0;a<n.length;++a)s=n.charCodeAt(a),s<128?o+=1:s<2048?o+=2:(s&64512)===55296&&(n.charCodeAt(a+1)&64512)===56320?(++a,o+=4):o+=3;return o},t.read=function(n,o,s){var a=s-o;if(a<1)return"";for(var c=null,u=[],d=0,h;o<s;)h=n[o++],h<128?u[d++]=h:h>191&&h<224?u[d++]=(h&31)<<6|n[o++]&63:h>239&&h<365?(h=((h&7)<<18|(n[o++]&63)<<12|(n[o++]&63)<<6|n[o++]&63)-65536,u[d++]=55296+(h>>10),u[d++]=56320+(h&1023)):u[d++]=(h&15)<<12|(n[o++]&63)<<6|n[o++]&63,d>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,u)),d=0);return c?(d&&c.push(String.fromCharCode.apply(String,u.slice(0,d))),c.join("")):String.fromCharCode.apply(String,u.slice(0,d))},t.write=function(n,o,s){for(var a=s,c,u,d=0;d<n.length;++d)c=n.charCodeAt(d),c<128?o[s++]=c:c<2048?(o[s++]=c>>6|192,o[s++]=c&63|128):(c&64512)===55296&&((u=n.charCodeAt(d+1))&64512)===56320?(c=65536+((c&1023)<<10)+(u&1023),++d,o[s++]=c>>18|240,o[s++]=c>>12&63|128,o[s++]=c>>6&63|128,o[s++]=c&63|128):(o[s++]=c>>12|224,o[s++]=c>>6&63|128,o[s++]=c&63|128);return s-a}})(utf8$2);var pool_1=pool;function pool(e,t,r){var n=r||8192,o=n>>>1,s=null,a=n;return function(u){if(u<1||u>o)return e(u);a+u>n&&(s=e(n),a=0);var d=t.call(s,a,a+=u);return a&7&&(a=(a|7)+1),d}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(e,t){this.lo=e>>>0,this.hi=t>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0};zero.zzEncode=zero.zzDecode=function(){return this};zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function e(t){if(t===0)return zero;var r=t<0;r&&(t=-t);var n=t>>>0,o=(t-n)/4294967296>>>0;return r&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new LongBits$2(n,o)};LongBits$2.from=function e(t){if(typeof t=="number")return LongBits$2.fromNumber(t);if(util$5.isString(t))if(util$5.Long)t=util$5.Long.fromString(t);else return LongBits$2.fromNumber(parseInt(t,10));return t.low||t.high?new LongBits$2(t.low>>>0,t.high>>>0):zero};LongBits$2.prototype.toNumber=function e(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};LongBits$2.prototype.toLong=function e(t){return util$5.Long?new util$5.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function e(t){return t===zeroHash?zero:new LongBits$2((charCodeAt.call(t,0)|charCodeAt.call(t,1)<<8|charCodeAt.call(t,2)<<16|charCodeAt.call(t,3)<<24)>>>0,(charCodeAt.call(t,4)|charCodeAt.call(t,5)<<8|charCodeAt.call(t,6)<<16|charCodeAt.call(t,7)<<24)>>>0)};LongBits$2.prototype.toHash=function e(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};LongBits$2.prototype.zzEncode=function e(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};LongBits$2.prototype.zzDecode=function e(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};LongBits$2.prototype.length=function e(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10};(function(e){var t=e;t.asPromise=aspromise,t.base64=base64$3,t.EventEmitter=eventemitter,t.float=float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=longbits,t.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},t.isString=function(s){return typeof s=="string"||s instanceof String},t.isObject=function(s){return s&&typeof s=="object"},t.isset=t.isSet=function(s,a){var c=s[a];return c!=null&&s.hasOwnProperty(a)?typeof c!="object"||(Array.isArray(c)?c.length:Object.keys(c).length)>0:!1},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(s){return typeof s=="number"?t.Buffer?t._Buffer_allocUnsafe(s):new t.Array(s):t.Buffer?t._Buffer_from(s):typeof Uint8Array=="undefined"?s:new Uint8Array(s)},t.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(s){return s?t.LongBits.from(s).toHash():t.LongBits.zeroHash},t.longFromHash=function(s,a){var c=t.LongBits.fromHash(s);return t.Long?t.Long.fromBits(c.lo,c.hi,a):c.toNumber(Boolean(a))};function r(o,s,a){for(var c=Object.keys(s),u=0;u<c.length;++u)(o[c[u]]===void 0||!a)&&(o[c[u]]=s[c[u]]);return o}t.merge=r,t.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)};function n(o){function s(a,c){if(!(this instanceof s))return new s(a,c);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),c&&r(this,c)}return(s.prototype=Object.create(Error.prototype)).constructor=s,Object.defineProperty(s.prototype,"name",{get:function(){return o}}),s.prototype.toString=function(){return this.name+": "+this.message},s}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(s){for(var a={},c=0;c<s.length;++c)a[s[c]]=1;return function(){for(var u=Object.keys(this),d=u.length-1;d>-1;--d)if(a[u[d]]===1&&this[u[d]]!==void 0&&this[u[d]]!==null)return u[d]}},t.oneOfSetter=function(s){return function(a){for(var c=0;c<s.length;++c)s[c]!==a&&delete this[s[c]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;if(!o){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(a,c){return new o(a,c)},t._Buffer_allocUnsafe=o.allocUnsafe||function(a){return new o(a)}}})(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function noop$1(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop$1,0,0),this.tail=this.head,this.states=null}var create$3=function e(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$3();Writer$1.alloc=function e(t){return new util$4.Array(t)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function e(t,r,n){return this.tail=this.tail.next=new Op(t,r,n),this.len+=r,this};function writeByte(e,t,r){t[r]=e&255}function writeVarint32(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function e(t){return this.len+=(this.tail=this.tail.next=new VarintOp((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};Writer$1.prototype.int32=function e(t){return t<0?this._push(writeVarint64,10,LongBits$1.fromNumber(t)):this.uint32(t)};Writer$1.prototype.sint32=function e(t){return this.uint32((t<<1^t>>31)>>>0)};function writeVarint64(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}Writer$1.prototype.uint64=function e(t){var r=LongBits$1.from(t);return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function e(t){var r=LongBits$1.from(t).zzEncode();return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.bool=function e(t){return this._push(writeByte,1,t?1:0)};function writeFixed32(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Writer$1.prototype.fixed32=function e(t){return this._push(writeFixed32,4,t>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function e(t){var r=LongBits$1.from(t);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function e(t){return this._push(util$4.float.writeFloatLE,4,t)};Writer$1.prototype.double=function e(t){return this._push(util$4.float.writeDoubleLE,8,t)};var writeBytes=util$4.Array.prototype.set?function e(t,r,n){r.set(t,n)}:function e(t,r,n){for(var o=0;o<t.length;++o)r[n+o]=t[o]};Writer$1.prototype.bytes=function e(t){var r=t.length>>>0;if(!r)return this._push(writeByte,1,0);if(util$4.isString(t)){var n=Writer$1.alloc(r=base64$2.length(t));base64$2.decode(t,n,0),t=n}return this.uint32(r)._push(writeBytes,r,t)};Writer$1.prototype.string=function e(t){var r=utf8$1.length(t);return r?this.uint32(r)._push(utf8$1.write,r,t):this._push(writeByte,1,0)};Writer$1.prototype.fork=function e(){return this.states=new State(this),this.head=this.tail=new Op(noop$1,0,0),this.len=0,this};Writer$1.prototype.reset=function e(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$1,0,0),this.len=0),this};Writer$1.prototype.ldelim=function e(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};Writer$1.prototype.finish=function e(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$3(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var o=0;o<t.length;)r[n++]=t[o++]}};BufferWriter.prototype.bytes=function e(t){util$3.isString(t)&&(t=util$3._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(BufferWriter.writeBytesBuffer,r,t),this};function writeStringBuffer(e,t,r){e.length<40?util$3.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}BufferWriter.prototype.string=function e(t){var r=util$3.Buffer.byteLength(t);return this.uint32(r),r&&this._push(writeStringBuffer,r,t),this};BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array=typeof Uint8Array!="undefined"?function e(t){if(t instanceof Uint8Array||Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")}:function e(t){if(Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")},create$2=function e(){return util$2.Buffer?function(r){return(Reader$1.create=function(o){return util$2.Buffer.isBuffer(o)?new BufferReader$1(o):create_array(o)})(r)}:create_array};Reader$1.create=create$2();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function e(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return t}}();Reader$1.prototype.int32=function e(){return this.uint32()|0};Reader$1.prototype.sint32=function e(){var t=this.uint32();return t>>>1^-(t&1)|0};function readLongVarint(){var e=new LongBits(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function e(){return this.uint32()!==0};function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}Reader$1.prototype.fixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};Reader$1.prototype.double=function e(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};Reader$1.prototype.bytes=function e(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw indexOutOfRange(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Reader$1.prototype.string=function e(){var t=this.bytes();return utf8.read(t,0,t.length)};Reader$1.prototype.skip=function e(t){if(typeof t=="number"){if(this.pos+t>this.len)throw indexOutOfRange(this,t);this.pos+=t}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create$2(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function e(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};BufferReader._configure();var rpc={},service=Service,util=minimal$1;(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}Service.prototype.rpcCall=function e(t,r,n,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return util.asPromise(e,a,t,r,n,o);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(u,d){if(u)return a.emit("error",u,t),s(u);if(d===null){a.end(!0);return}if(!(d instanceof n))try{d=n[a.responseDelimited?"decodeDelimited":"decode"](d)}catch(h){return a.emit("error",h,t),s(h)}return a.emit("data",d,t),s(null,d)})}catch(c){a.emit("error",c,t),setTimeout(function(){s(c)},0);return}};Service.prototype.end=function e(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(e){var t=e;t.Service=service})(rpc);var roots={};(function(e){var t=e;t.build="minimal",t.Writer=writer,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=minimal$1,t.rpc=rpc,t.roots=roots,t.configure=r;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}r()})(indexMinimal);var minimal=indexMinimal;const $Reader=minimal.Reader,$Writer=minimal.Writer,$util=minimal.util,$root=minimal.roots["ipfs-unixfs"]||(minimal.roots["ipfs-unixfs"]={}),Data=$root.Data=(()=>{function e(t){if(this.blocksizes=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=$util.newBuffer([]),e.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=$util.emptyArray,e.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(r,n){if(n||(n=$Writer.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var o=0;o<r.blocksizes.length;++o)n.uint32(32).uint64(r.blocksizes[o]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&$root.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},e.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root.Data;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;case 3:s.filesize=r.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(a&7)===2)for(var c=r.uint32()+r.pos;r.pos<c;)s.blocksizes.push(r.uint64());else s.blocksizes.push(r.uint64());break;case 5:s.hashType=r.uint64();break;case 6:s.fanout=r.uint64();break;case 7:s.mode=r.uint32();break;case 8:s.mtime=$root.UnixTime.decode(r,r.uint32());break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:s});return s},e.fromObject=function(r){if(r instanceof $root.Data)return r;var n=new $root.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?$util.base64.decode(r.Data,n.Data=$util.newBuffer($util.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&($util.Long?(n.filesize=$util.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new $util.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)$util.Long?(n.blocksizes[o]=$util.Long.fromValue(r.blocksizes[o])).unsigned=!0:typeof r.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(r.blocksizes[o],10):typeof r.blocksizes[o]=="number"?n.blocksizes[o]=r.blocksizes[o]:typeof r.blocksizes[o]=="object"&&(n.blocksizes[o]=new $util.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0))}if(r.hashType!=null&&($util.Long?(n.hashType=$util.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new $util.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&($util.Long?(n.fanout=$util.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new $util.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root.UnixTime.fromObject(r.mtime)}return n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=$util.newBuffer(o.Data))),$util.Long){var s=new $util.Long(0,0,!0);o.filesize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.filesize=n.longs===String?"0":0;if($util.Long){var s=new $util.Long(0,0,!0);o.hashType=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.hashType=n.longs===String?"0":0;if($util.Long){var s=new $util.Long(0,0,!0);o.fanout=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(o.Type=n.enums===String?$root.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(o.Data=n.bytes===String?$util.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?o.filesize=n.longs===String?String(r.filesize):r.filesize:o.filesize=n.longs===String?$util.Long.prototype.toString.call(r.filesize):n.longs===Number?new $util.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){o.blocksizes=[];for(var a=0;a<r.blocksizes.length;++a)typeof r.blocksizes[a]=="number"?o.blocksizes[a]=n.longs===String?String(r.blocksizes[a]):r.blocksizes[a]:o.blocksizes[a]=n.longs===String?$util.Long.prototype.toString.call(r.blocksizes[a]):n.longs===Number?new $util.LongBits(r.blocksizes[a].low>>>0,r.blocksizes[a].high>>>0).toNumber(!0):r.blocksizes[a]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?o.hashType=n.longs===String?String(r.hashType):r.hashType:o.hashType=n.longs===String?$util.Long.prototype.toString.call(r.hashType):n.longs===Number?new $util.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?o.fanout=n.longs===String?String(r.fanout):r.fanout:o.fanout=n.longs===String?$util.Long.prototype.toString.call(r.fanout):n.longs===Number?new $util.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(o.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(o.mtime=$root.UnixTime.toObject(r.mtime,n)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e.DataType=function(){const t={},r=Object.create(t);return r[t[0]="Raw"]=0,r[t[1]="Directory"]=1,r[t[2]="File"]=2,r[t[3]="Metadata"]=3,r[t[4]="Symlink"]=4,r[t[5]="HAMTShard"]=5,r}(),e})();$root.UnixTime=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(r,n){return n||(n=$Writer.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},e.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root.UnixTime;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.Seconds=r.int64();break;case 2:s.FractionalNanoseconds=r.fixed32();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:s});return s},e.fromObject=function(r){if(r instanceof $root.UnixTime)return r;var n=new $root.UnixTime;return r.Seconds!=null&&($util.Long?(n.Seconds=$util.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new $util.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},e.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($util.Long){var s=new $util.Long(0,0,!1);o.Seconds=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?o.Seconds=n.longs===String?String(r.Seconds):r.Seconds:o.Seconds=n.longs===String?$util.Long.prototype.toString.call(r.Seconds):n.longs===Number?new $util.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=r.FractionalNanoseconds),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e})();$root.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.MimeType="",e.encode=function(r,n){return n||(n=$Writer.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},e.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new $root.Metadata;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:s.MimeType=r.string();break;default:r.skipType(a&7);break}}return s},e.fromObject=function(r){if(r instanceof $root.Metadata)return r;var n=new $root.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(o.MimeType=r.MimeType),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e})();const PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode(e){if(e!=null)return typeof e=="number"?e&4095:(e=e.toString(),e.substring(0,1)==="0"?parseInt(e,8)&4095:parseInt(e,10)&4095)}function parseMtime(e){if(e==null)return;let t;if(e.secs!=null&&(t={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(t,"secs")){if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999))throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}class UnixFS{static unmarshal(t){const r=PBData.decode(t),n=PBData.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),o=new UnixFS({type:types[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return o._originalMode=n.mode||0,o}constructor(t={type:"file"}){const{type:r,data:n,blockSizes:o,hashType:s,fanout:a,mtime:c,mode:u}=t;if(r&&!types.includes(r))throw errCode(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=n,this.hashType=s,this.fanout=a,this.blockSizes=o||[],this._originalMode=0,this.mode=parseMode(u),c&&(this.mtime=parseMtime(c),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(t){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;const r=parseMode(t);r!==void 0&&(this._mode=r)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&dirTypes.includes(this.type))}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0;let t=0;return this.blockSizes.forEach(r=>{t+=r}),this.data&&(t+=this.data.length),t}marshal(){let t;switch(this.type){case"raw":t=PBData.DataType.Raw;break;case"directory":t=PBData.DataType.Directory;break;case"file":t=PBData.DataType.File;break;case"metadata":t=PBData.DataType.Metadata;break;case"symlink":t=PBData.DataType.Symlink;break;case"hamt-sharded-directory":t=PBData.DataType.HAMTShard;break;default:throw errCode(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE")}let r=this.data;(!this.data||!this.data.length)&&(r=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(parseMode(this.mode)||0),n===DEFAULT_FILE_MODE&&!this.isDirectory()&&(n=void 0),n===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(n=void 0));let o;if(this.mtime!=null){const a=parseMtime(this.mtime);a&&(o={Seconds:a.secs,FractionalNanoseconds:a.nsecs},o.FractionalNanoseconds===0&&delete o.FractionalNanoseconds)}const s={Type:t,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:o};return PBData.encode(s).finish()}}const textDecoder=new TextDecoder;function decodeVarint(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function decodeBytes(e,t){let r;[r,t]=decodeVarint(e,t);const n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function decodeKey(e,t){let r;return[r,t]=decodeVarint(e,t),[r&7,r>>3,t]}function decodeLink(e){const t={},r=e.length;let n=0;for(;n<r;){let o,s;if([o,s,n]=decodeKey(e,n),s===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=decodeBytes(e,n)}else if(s===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,n]=decodeBytes(e,n),t.Name=textDecoder.decode(a)}else if(s===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=decodeVarint(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(e){const t=e.length;let r=0,n,o=!1,s;for(;r<t;){let c,u;if([c,u,r]=decodeKey(e,r),c!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${c}`);if(u===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=decodeBytes(e,r),n&&(o=!0)}else if(u===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let d;[d,r]=decodeBytes(e,r),n.push(decodeLink(d))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${u}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");const a={};return s&&(a.Data=s),a.Links=n||[],a}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=encodeVarint(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){const n=textEncoder$1.encode(e.Name);r-=n.length,t.set(n,r),r=encodeVarint(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=encodeVarint(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function encodeNode(e){const t=sizeNode(e),r=new Uint8Array(t);let n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=encodeVarint(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){const s=encodeLink(e.Links[o],r.subarray(0,n));n-=s,n=encodeVarint(r,n,s)-1,r[n]=18}return r}function sizeLink(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+sov(r)}if(typeof e.Name=="string"){const r=textEncoder$1.encode(e.Name).length;t+=1+r+sov(r)}return typeof e.Tsize=="number"&&(t+=1+sov(e.Tsize)),t}function sizeNode(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+sov(r)}if(e.Links)for(const r of e.Links){const n=sizeLink(r);t+=1+n+sov(n)}return t}function encodeVarint(e,t,r){t-=sov(r);const n=t;for(;r>=maxUInt32;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function sov(e){return e%2===0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){let t=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+len8tab[e]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(e,t){if(e===t)return 0;const r=e.Name?textEncoder.encode(e.Name):[],n=t.Name?textEncoder.encode(t.Name):[];let o=r.length,s=n.length;for(let a=0,c=Math.min(o,s);a<c;++a)if(r[a]!==n[a]){o=r[a],s=n[a];break}return o<s?-1:s<o?1:0}function hasOnlyProperties(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function asLink(e){if(typeof e.asCID=="object"){const r=CID.asCID(e);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let r=CID.asCID(e.Hash);try{r||(typeof e.Hash=="string"?r=CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=CID.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function prepare(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=textEncoder.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(asLink),t.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function validate(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&linkComparator(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e,t=[]){return prepare({Data:e,Links:t})}function createLink(e,t,r){return asLink({Hash:r,Name:e,Tsize:t})}const name$3="dag-pb",code$4=112;function encode$4(e){validate(e);const t={};return e.Links&&(t.Links=e.Links.map(r=>{const n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),encodeNode(t)}function decode$3(e){const t=decodeNode(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{const o={};try{o.Hash=CID.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}var pb=Object.freeze(Object.defineProperty({__proto__:null,name:name$3,code:code$4,encode:encode$4,decode:decode$3,prepare,validate,createNode,createLink},Symbol.toStringTag,{value:"Module"}));const persist=async(e,t,r)=>{r.codec||(r.codec=pb),r.hasher||(r.hasher=sha256),r.cidVersion===void 0&&(r.cidVersion=1),r.codec===pb&&r.hasher!==sha256&&(r.cidVersion=1);const n=await r.hasher.digest(e),o=CID.create(r.cidVersion,r.codec.code,n);return r.onlyHash||await t.put(o,e,{signal:r.signal}),o},dirBuilder=async(e,t,r)=>{const n=new UnixFS({type:"directory",mtime:e.mtime,mode:e.mode}),o=encode$4(prepare({Data:n.marshal()})),s=await persist(o,t,r),a=e.path;return{cid:s,path:a,unixfs:n,size:o.length}},name$2="raw",code$3=85,encode$3=e=>coerce(e),decode$2=e=>coerce(e);var raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$2,code:code$3,encode:encode$3,decode:decode$2},Symbol.toStringTag,{value:"Module"}));const all=async e=>{const t=[];for await(const r of e)t.push(r);return t};var itAll=all;async function flat(e,t){return t(await itAll(e))}function balanced(e,t,r){return reduceToParents(e,t,r)}async function reduceToParents(e,t,r){const n=[];for await(const o of itBatch(e,r.maxChildrenPerNode))n.push(await t(o));return n.length>1?reduceToParents(n,t,r):n[0]}async function trickleStream(e,t,r){const n=new Root(r.layerRepeat);let o=0,s=1,a=n;for await(const c of itBatch(e,r.maxChildrenPerNode))a.isFull()&&(a!==n&&n.addChild(await a.reduce(t)),o&&o%r.layerRepeat===0&&s++,a=new SubTree(s,r.layerRepeat,o),o++),a.append(c);return a&&a!==n&&n.addChild(await a.reduce(t)),n.reduce(t)}class SubTree{constructor(t,r,n=0){this.maxDepth=t,this.layerRepeat=r,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:t,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const t=this._findParent(this.node,this.currentDepth);return t?(this._addNextNodeToParent(t),!1):!0}_addNextNodeToParent(t){this.parent=t;const r={children:[],depth:t.depth+1,parent:t,maxDepth:this.maxDepth,maxChildren:Math.floor(t.children.length/this.layerRepeat)*this.layerRepeat};t.children.push(r),this.currentDepth=r.depth,this.node=r}append(t){this.node.data=t}reduce(t){return this._reduce(this.root,t)}async _reduce(t,r){let n=[];return t.children.length&&(n=await Promise.all(t.children.filter(o=>o.data).map(o=>this._reduce(o,r)))),r((t.data||[]).concat(n))}_findParent(t,r){const n=t.parent;if(!(!n||n.depth===0))return n.children.length===n.maxChildren||!n.maxChildren?this._findParent(n,r):n}}class Root extends SubTree{constructor(t){super(0,t),this.root.depth=0,this.currentDepth=1}addChild(t){this.root.children.push(t)}reduce(t){return t((this.root.data||[]).concat(this.root.children))}}async function*bufferImporter(e,t,r){for await(let n of e.content)yield async()=>{r.progress(n.length,e.path);let o;const s={codec:pb,cidVersion:r.cidVersion,hasher:r.hasher,onlyHash:r.onlyHash};return r.rawLeaves?(s.codec=raw,s.cidVersion=1):(o=new UnixFS({type:r.leafType,data:n}),n=encode$4({Data:o.marshal(),Links:[]})),{cid:await persist(n,t,s),unixfs:o,size:n.length}}}const dagBuilders={flat,balanced,trickle:trickleStream};async function*buildFileBatch(e,t,r){let n=-1,o,s;typeof r.bufferImporter=="function"?s=r.bufferImporter:s=bufferImporter;for await(const a of itParallelBatch(s(e,t,r),r.blockWriteConcurrency)){if(n++,n===0){o=a;continue}else n===1&&o&&(yield o,o=null);yield a}o&&(o.single=!0,yield o)}const reduce=(e,t,r)=>{async function n(o){if(o.length===1&&o[0].single&&r.reduceSingleLeafToSelf){const h=o[0];if(e.mtime!==void 0||e.mode!==void 0){let w=await t.get(h.cid);h.unixfs=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode,data:w}),w=encode$4(prepare({Data:h.unixfs.marshal()})),h.cid=await persist(w,t,{...r,codec:pb,hasher:r.hasher,cidVersion:r.cidVersion}),h.size=w.length}return{cid:h.cid,path:e.path,unixfs:h.unixfs,size:h.size}}const s=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode}),a=o.filter(h=>h.cid.code===code$3&&h.size||h.unixfs&&!h.unixfs.data&&h.unixfs.fileSize()?!0:Boolean(h.unixfs&&h.unixfs.data&&h.unixfs.data.length)).map(h=>h.cid.code===code$3?(s.addBlockSize(h.size),{Name:"",Tsize:h.size,Hash:h.cid}):(!h.unixfs||!h.unixfs.data?s.addBlockSize(h.unixfs&&h.unixfs.fileSize()||0):s.addBlockSize(h.unixfs.data.length),{Name:"",Tsize:h.size,Hash:h.cid})),c={Data:s.marshal(),Links:a},u=encode$4(prepare(c));return{cid:await persist(u,t,r),path:e.path,unixfs:s,size:u.length+c.Links.reduce((h,w)=>h+w.Tsize,0)}}return n};function fileBuilder(e,t,r){const n=dagBuilders[r.strategy];if(!n)throw errCode(new Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY");return n(buildFileBatch(e,t,r),reduce(e,t,r),r)}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code$2.length;i<len;++i)lookup[i]=code$2[i],revLookup[code$2.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r=getLens(e),n=r[0],o=r[1],s=new Arr(_byteLength(e,n,o)),a=0,c=o>0?n-4:n,u;for(u=0;u<c;u+=4)t=revLookup[e.charCodeAt(u)]<<18|revLookup[e.charCodeAt(u+1)]<<12|revLookup[e.charCodeAt(u+2)]<<6|revLookup[e.charCodeAt(u+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=t&255;return o===2&&(t=revLookup[e.charCodeAt(u)]<<2|revLookup[e.charCodeAt(u+1)]>>4,s[a++]=t&255),o===1&&(t=revLookup[e.charCodeAt(u)]<<10|revLookup[e.charCodeAt(u+1)]<<4|revLookup[e.charCodeAt(u+2)]>>2,s[a++]=t>>8&255,s[a++]=t&255),s}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,t,r){for(var n,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(encodeChunk(e,a,a+s>c?c:a+s));return n===1?(t=e[r-1],o.push(lookup[t>>2]+lookup[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,t,r,n,o){var s,a,c=o*8-n-1,u=(1<<c)-1,d=u>>1,h=-7,w=r?o-1:0,b=r?-1:1,B=e[t+w];for(w+=b,s=B&(1<<-h)-1,B>>=-h,h+=c;h>0;s=s*256+e[t+w],w+=b,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=n;h>0;a=a*256+e[t+w],w+=b,h-=8);if(s===0)s=1-d;else{if(s===u)return a?NaN:(B?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-d}return(B?-1:1)*a*Math.pow(2,s-n)};ieee754.write=function(e,t,r,n,o,s){var a,c,u,d=s*8-o-1,h=(1<<d)-1,w=h>>1,b=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=n?0:s-1,v=n?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+w>=1?t+=b/u:t+=b*Math.pow(2,1-w),t*u>=2&&(a++,u/=2),a+w>=h?(c=0,a=h):a+w>=1?(c=(t*u-1)*Math.pow(2,o),a=a+w):(c=t*Math.pow(2,w-1)*Math.pow(2,o),a=0));o>=8;e[r+B]=c&255,B+=v,c/=256,o-=8);for(a=a<<o|c,d+=o;d>0;e[r+B]=a&255,B+=v,a/=256,d-=8);e[r+B-v]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=X,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const y=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(y,l),y.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');const l=new Uint8Array(y);return Object.setPrototypeOf(l,c.prototype),l}function c(y,l,f){if(typeof y=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(y)}return u(y,l,f)}c.poolSize=8192;function u(y,l,f){if(typeof y=="string")return b(y,l);if(ArrayBuffer.isView(y))return v(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(D(y,ArrayBuffer)||y&&D(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(D(y,SharedArrayBuffer)||y&&D(y.buffer,SharedArrayBuffer)))return m(y,l,f);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=y.valueOf&&y.valueOf();if(g!=null&&g!==y)return c.from(g,l,f);const E=T(y);if(E)return E;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return c.from(y[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}c.from=function(y,l,f){return u(y,l,f)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function d(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function h(y,l,f){return d(y),y<=0?a(y):l!==void 0?typeof f=="string"?a(y).fill(l,f):a(y).fill(l):a(y)}c.alloc=function(y,l,f){return h(y,l,f)};function w(y){return d(y),a(y<0?0:I(y)|0)}c.allocUnsafe=function(y){return w(y)},c.allocUnsafeSlow=function(y){return w(y)};function b(y,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const f=N(y,l)|0;let g=a(f);const E=g.write(y,l);return E!==f&&(g=g.slice(0,E)),g}function B(y){const l=y.length<0?0:I(y.length)|0,f=a(l);for(let g=0;g<l;g+=1)f[g]=y[g]&255;return f}function v(y){if(D(y,Uint8Array)){const l=new Uint8Array(y);return m(l.buffer,l.byteOffset,l.byteLength)}return B(y)}function m(y,l,f){if(l<0||y.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let g;return l===void 0&&f===void 0?g=new Uint8Array(y):f===void 0?g=new Uint8Array(y,l):g=new Uint8Array(y,l,f),Object.setPrototypeOf(g,c.prototype),g}function T(y){if(c.isBuffer(y)){const l=I(y.length)|0,f=a(l);return f.length===0||y.copy(f,0,0,l),f}if(y.length!==void 0)return typeof y.length!="number"||J(y.length)?a(0):B(y);if(y.type==="Buffer"&&Array.isArray(y.data))return B(y.data)}function I(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function X(y){return+y!=y&&(y=0),c.alloc(+y)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,f){if(D(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),D(f,Uint8Array)&&(f=c.from(f,f.offset,f.byteLength)),!c.isBuffer(l)||!c.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let g=l.length,E=f.length;for(let x=0,R=Math.min(g,E);x<R;++x)if(l[x]!==f[x]){g=l[x],E=f[x];break}return g<E?-1:E<g?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let g;if(f===void 0)for(f=0,g=0;g<l.length;++g)f+=l[g].length;const E=c.allocUnsafe(f);let x=0;for(g=0;g<l.length;++g){let R=l[g];if(D(R,Uint8Array))x+R.length>E.length?(c.isBuffer(R)||(R=c.from(R)),R.copy(E,x)):Uint8Array.prototype.set.call(E,R,x);else if(c.isBuffer(R))R.copy(E,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=R.length}return E};function N(y,l){if(c.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||D(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const f=y.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&f===0)return 0;let E=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return P(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return M(y).length;default:if(E)return g?-1:P(y).length;l=(""+l).toLowerCase(),E=!0}}c.byteLength=N;function F(y,l,f){let g=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,l>>>=0,f<=l))return"";for(y||(y="utf8");;)switch(y){case"hex":return me(this,l,f);case"utf8":case"utf-8":return ye(this,l,f);case"ascii":return le(this,l,f);case"latin1":case"binary":return se(this,l,f);case"base64":return he(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,l,f);default:if(g)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),g=!0}}c.prototype._isBuffer=!0;function k(y,l,f){const g=y[l];y[l]=y[f],y[f]=g}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)k(this,f,f+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)k(this,f,f+3),k(this,f+1,f+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)k(this,f,f+7),k(this,f+1,f+6),k(this,f+2,f+5),k(this,f+3,f+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?ye(this,0,l):F.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const f=e.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(l,f,g,E,x){if(D(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(f===void 0&&(f=0),g===void 0&&(g=l?l.length:0),E===void 0&&(E=0),x===void 0&&(x=this.length),f<0||g>l.length||E<0||x>this.length)throw new RangeError("out of range index");if(E>=x&&f>=g)return 0;if(E>=x)return-1;if(f>=g)return 1;if(f>>>=0,g>>>=0,E>>>=0,x>>>=0,this===l)return 0;let R=x-E,re=g-f;const de=Math.min(R,re),ie=this.slice(E,x),oe=l.slice(f,g);for(let ce=0;ce<de;++ce)if(ie[ce]!==oe[ce]){R=ie[ce],re=oe[ce];break}return R<re?-1:re<R?1:0};function O(y,l,f,g,E){if(y.length===0)return-1;if(typeof f=="string"?(g=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,J(f)&&(f=E?0:y.length-1),f<0&&(f=y.length+f),f>=y.length){if(E)return-1;f=y.length-1}else if(f<0)if(E)f=0;else return-1;if(typeof l=="string"&&(l=c.from(l,g)),c.isBuffer(l))return l.length===0?-1:L(y,l,f,g,E);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(y,l,f):Uint8Array.prototype.lastIndexOf.call(y,l,f):L(y,[l],f,g,E);throw new TypeError("val must be string, number or Buffer")}function L(y,l,f,g,E){let x=1,R=y.length,re=l.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(y.length<2||l.length<2)return-1;x=2,R/=2,re/=2,f/=2}function de(oe,ce){return x===1?oe[ce]:oe.readUInt16BE(ce*x)}let ie;if(E){let oe=-1;for(ie=f;ie<R;ie++)if(de(y,ie)===de(l,oe===-1?0:ie-oe)){if(oe===-1&&(oe=ie),ie-oe+1===re)return oe*x}else oe!==-1&&(ie-=ie-oe),oe=-1}else for(f+re>R&&(f=R-re),ie=f;ie>=0;ie--){let oe=!0;for(let ce=0;ce<re;ce++)if(de(y,ie+ce)!==de(l,ce)){oe=!1;break}if(oe)return ie}return-1}c.prototype.includes=function(l,f,g){return this.indexOf(l,f,g)!==-1},c.prototype.indexOf=function(l,f,g){return O(this,l,f,g,!0)},c.prototype.lastIndexOf=function(l,f,g){return O(this,l,f,g,!1)};function C(y,l,f,g){f=Number(f)||0;const E=y.length-f;g?(g=Number(g),g>E&&(g=E)):g=E;const x=l.length;g>x/2&&(g=x/2);let R;for(R=0;R<g;++R){const re=parseInt(l.substr(R*2,2),16);if(J(re))return R;y[f+R]=re}return R}function $(y,l,f,g){return z(P(l,y.length-f),y,f,g)}function Y(y,l,f,g){return z(j(l),y,f,g)}function ae(y,l,f,g){return z(M(l),y,f,g)}function fe(y,l,f,g){return z(H(l,y.length-f),y,f,g)}c.prototype.write=function(l,f,g,E){if(f===void 0)E="utf8",g=this.length,f=0;else if(g===void 0&&typeof f=="string")E=f,g=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(g)?(g=g>>>0,E===void 0&&(E="utf8")):(E=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const x=this.length-f;if((g===void 0||g>x)&&(g=x),l.length>0&&(g<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");let R=!1;for(;;)switch(E){case"hex":return C(this,l,f,g);case"utf8":case"utf-8":return $(this,l,f,g);case"ascii":case"latin1":case"binary":return Y(this,l,f,g);case"base64":return ae(this,l,f,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,l,f,g);default:if(R)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),R=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(y,l,f){return l===0&&f===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(l,f))}function ye(y,l,f){f=Math.min(y.length,f);const g=[];let E=l;for(;E<f;){const x=y[E];let R=null,re=x>239?4:x>223?3:x>191?2:1;if(E+re<=f){let de,ie,oe,ce;switch(re){case 1:x<128&&(R=x);break;case 2:de=y[E+1],(de&192)===128&&(ce=(x&31)<<6|de&63,ce>127&&(R=ce));break;case 3:de=y[E+1],ie=y[E+2],(de&192)===128&&(ie&192)===128&&(ce=(x&15)<<12|(de&63)<<6|ie&63,ce>2047&&(ce<55296||ce>57343)&&(R=ce));break;case 4:de=y[E+1],ie=y[E+2],oe=y[E+3],(de&192)===128&&(ie&192)===128&&(oe&192)===128&&(ce=(x&15)<<18|(de&63)<<12|(ie&63)<<6|oe&63,ce>65535&&ce<1114112&&(R=ce))}}R===null?(R=65533,re=1):R>65535&&(R-=65536,g.push(R>>>10&1023|55296),R=56320|R&1023),g.push(R),E+=re}return ge(g)}const ne=4096;function ge(y){const l=y.length;if(l<=ne)return String.fromCharCode.apply(String,y);let f="",g=0;for(;g<l;)f+=String.fromCharCode.apply(String,y.slice(g,g+=ne));return f}function le(y,l,f){let g="";f=Math.min(y.length,f);for(let E=l;E<f;++E)g+=String.fromCharCode(y[E]&127);return g}function se(y,l,f){let g="";f=Math.min(y.length,f);for(let E=l;E<f;++E)g+=String.fromCharCode(y[E]);return g}function me(y,l,f){const g=y.length;(!l||l<0)&&(l=0),(!f||f<0||f>g)&&(f=g);let E="";for(let x=l;x<f;++x)E+=W[y[x]];return E}function _e(y,l,f){const g=y.slice(l,f);let E="";for(let x=0;x<g.length-1;x+=2)E+=String.fromCharCode(g[x]+g[x+1]*256);return E}c.prototype.slice=function(l,f){const g=this.length;l=~~l,f=f===void 0?g:~~f,l<0?(l+=g,l<0&&(l=0)):l>g&&(l=g),f<0?(f+=g,f<0&&(f=0)):f>g&&(f=g),f<l&&(f=l);const E=this.subarray(l,f);return Object.setPrototypeOf(E,c.prototype),E};function ue(y,l,f){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+l>f)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,f,g){l=l>>>0,f=f>>>0,g||ue(l,f,this.length);let E=this[l],x=1,R=0;for(;++R<f&&(x*=256);)E+=this[l+R]*x;return E},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,f,g){l=l>>>0,f=f>>>0,g||ue(l,f,this.length);let E=this[l+--f],x=1;for(;f>0&&(x*=256);)E+=this[l+--f]*x;return E},c.prototype.readUint8=c.prototype.readUInt8=function(l,f){return l=l>>>0,f||ue(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,f){return l=l>>>0,f||ue(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,f){return l=l>>>0,f||ue(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,f){return l=l>>>0,f||ue(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,f){return l=l>>>0,f||ue(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=K(function(l){l=l>>>0,_(l,"offset");const f=this[l],g=this[l+7];(f===void 0||g===void 0)&&A(l,this.length-8);const E=f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,x=this[++l]+this[++l]*2**8+this[++l]*2**16+g*2**24;return BigInt(E)+(BigInt(x)<<BigInt(32))}),c.prototype.readBigUInt64BE=K(function(l){l=l>>>0,_(l,"offset");const f=this[l],g=this[l+7];(f===void 0||g===void 0)&&A(l,this.length-8);const E=f*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],x=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+g;return(BigInt(E)<<BigInt(32))+BigInt(x)}),c.prototype.readIntLE=function(l,f,g){l=l>>>0,f=f>>>0,g||ue(l,f,this.length);let E=this[l],x=1,R=0;for(;++R<f&&(x*=256);)E+=this[l+R]*x;return x*=128,E>=x&&(E-=Math.pow(2,8*f)),E},c.prototype.readIntBE=function(l,f,g){l=l>>>0,f=f>>>0,g||ue(l,f,this.length);let E=f,x=1,R=this[l+--E];for(;E>0&&(x*=256);)R+=this[l+--E]*x;return x*=128,R>=x&&(R-=Math.pow(2,8*f)),R},c.prototype.readInt8=function(l,f){return l=l>>>0,f||ue(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,f){l=l>>>0,f||ue(l,2,this.length);const g=this[l]|this[l+1]<<8;return g&32768?g|4294901760:g},c.prototype.readInt16BE=function(l,f){l=l>>>0,f||ue(l,2,this.length);const g=this[l+1]|this[l]<<8;return g&32768?g|4294901760:g},c.prototype.readInt32LE=function(l,f){return l=l>>>0,f||ue(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,f){return l=l>>>0,f||ue(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=K(function(l){l=l>>>0,_(l,"offset");const f=this[l],g=this[l+7];(f===void 0||g===void 0)&&A(l,this.length-8);const E=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(g<<24);return(BigInt(E)<<BigInt(32))+BigInt(f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=K(function(l){l=l>>>0,_(l,"offset");const f=this[l],g=this[l+7];(f===void 0||g===void 0)&&A(l,this.length-8);const E=(f<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(E)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+g)}),c.prototype.readFloatLE=function(l,f){return l=l>>>0,f||ue(l,4,this.length),r.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,f){return l=l>>>0,f||ue(l,4,this.length),r.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,f){return l=l>>>0,f||ue(l,8,this.length),r.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,f){return l=l>>>0,f||ue(l,8,this.length),r.read(this,l,!1,52,8)};function G(y,l,f,g,E,x){if(!c.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>E||l<x)throw new RangeError('"value" argument is out of bounds');if(f+g>y.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,f,g,E){if(l=+l,f=f>>>0,g=g>>>0,!E){const re=Math.pow(2,8*g)-1;G(this,l,f,g,re,0)}let x=1,R=0;for(this[f]=l&255;++R<g&&(x*=256);)this[f+R]=l/x&255;return f+g},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,f,g,E){if(l=+l,f=f>>>0,g=g>>>0,!E){const re=Math.pow(2,8*g)-1;G(this,l,f,g,re,0)}let x=g-1,R=1;for(this[f+x]=l&255;--x>=0&&(R*=256);)this[f+x]=l/R&255;return f+g},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,1,255,0),this[f]=l&255,f+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,2,65535,0),this[f]=l&255,this[f+1]=l>>>8,f+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=l&255,f+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=l&255,f+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4};function V(y,l,f,g,E){Ee(l,g,E,y,f,7);let x=Number(l&BigInt(4294967295));y[f++]=x,x=x>>8,y[f++]=x,x=x>>8,y[f++]=x,x=x>>8,y[f++]=x;let R=Number(l>>BigInt(32)&BigInt(4294967295));return y[f++]=R,R=R>>8,y[f++]=R,R=R>>8,y[f++]=R,R=R>>8,y[f++]=R,f}function q(y,l,f,g,E){Ee(l,g,E,y,f,7);let x=Number(l&BigInt(4294967295));y[f+7]=x,x=x>>8,y[f+6]=x,x=x>>8,y[f+5]=x,x=x>>8,y[f+4]=x;let R=Number(l>>BigInt(32)&BigInt(4294967295));return y[f+3]=R,R=R>>8,y[f+2]=R,R=R>>8,y[f+1]=R,R=R>>8,y[f]=R,f+8}c.prototype.writeBigUInt64LE=K(function(l,f=0){return V(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=K(function(l,f=0){return q(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,f,g,E){if(l=+l,f=f>>>0,!E){const de=Math.pow(2,8*g-1);G(this,l,f,g,de-1,-de)}let x=0,R=1,re=0;for(this[f]=l&255;++x<g&&(R*=256);)l<0&&re===0&&this[f+x-1]!==0&&(re=1),this[f+x]=(l/R>>0)-re&255;return f+g},c.prototype.writeIntBE=function(l,f,g,E){if(l=+l,f=f>>>0,!E){const de=Math.pow(2,8*g-1);G(this,l,f,g,de-1,-de)}let x=g-1,R=1,re=0;for(this[f+x]=l&255;--x>=0&&(R*=256);)l<0&&re===0&&this[f+x+1]!==0&&(re=1),this[f+x]=(l/R>>0)-re&255;return f+g},c.prototype.writeInt8=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=l&255,f+1},c.prototype.writeInt16LE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,2,32767,-32768),this[f]=l&255,this[f+1]=l>>>8,f+2},c.prototype.writeInt16BE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=l&255,f+2},c.prototype.writeInt32LE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,4,2147483647,-2147483648),this[f]=l&255,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},c.prototype.writeInt32BE=function(l,f,g){return l=+l,f=f>>>0,g||G(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4},c.prototype.writeBigInt64LE=K(function(l,f=0){return V(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=K(function(l,f=0){return q(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(y,l,f,g,E,x){if(f+g>y.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function te(y,l,f,g,E){return l=+l,f=f>>>0,E||Z(y,l,f,4),r.write(y,l,f,g,23,4),f+4}c.prototype.writeFloatLE=function(l,f,g){return te(this,l,f,!0,g)},c.prototype.writeFloatBE=function(l,f,g){return te(this,l,f,!1,g)};function Q(y,l,f,g,E){return l=+l,f=f>>>0,E||Z(y,l,f,8),r.write(y,l,f,g,52,8),f+8}c.prototype.writeDoubleLE=function(l,f,g){return Q(this,l,f,!0,g)},c.prototype.writeDoubleBE=function(l,f,g){return Q(this,l,f,!1,g)},c.prototype.copy=function(l,f,g,E){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(g||(g=0),!E&&E!==0&&(E=this.length),f>=l.length&&(f=l.length),f||(f=0),E>0&&E<g&&(E=g),E===g||l.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),l.length-f<E-g&&(E=l.length-f+g);const x=E-g;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,g,E):Uint8Array.prototype.set.call(l,this.subarray(g,E),f),x},c.prototype.fill=function(l,f,g,E){if(typeof l=="string"){if(typeof f=="string"?(E=f,f=0,g=this.length):typeof g=="string"&&(E=g,g=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!c.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(l.length===1){const R=l.charCodeAt(0);(E==="utf8"&&R<128||E==="latin1")&&(l=R)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(f<0||this.length<f||this.length<g)throw new RangeError("Out of range index");if(g<=f)return this;f=f>>>0,g=g===void 0?this.length:g>>>0,l||(l=0);let x;if(typeof l=="number")for(x=f;x<g;++x)this[x]=l;else{const R=c.isBuffer(l)?l:c.from(l,E),re=R.length;if(re===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(x=0;x<g-f;++x)this[x+f]=R[x%re]}return this};const pe={};function we(y,l,f){pe[y]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(E){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:E,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}we("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(y,l){return`The "${y}" argument must be of type number. Received type ${typeof l}`},TypeError),we("ERR_OUT_OF_RANGE",function(y,l,f){let g=`The value of "${y}" is out of range.`,E=f;return Number.isInteger(f)&&Math.abs(f)>2**32?E=be(String(f)):typeof f=="bigint"&&(E=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(E=be(E)),E+="n"),g+=` It must be ${l}. Received ${E}`,g},RangeError);function be(y){let l="",f=y.length;const g=y[0]==="-"?1:0;for(;f>=g+4;f-=3)l=`_${y.slice(f-3,f)}${l}`;return`${y.slice(0,f)}${l}`}function Te(y,l,f){_(l,"offset"),(y[l]===void 0||y[l+f]===void 0)&&A(l,y.length-(f+1))}function Ee(y,l,f,g,E,x){if(y>f||y<l){const R=typeof l=="bigint"?"n":"";let re;throw x>3?l===0||l===BigInt(0)?re=`>= 0${R} and < 2${R} ** ${(x+1)*8}${R}`:re=`>= -(2${R} ** ${(x+1)*8-1}${R}) and < 2 ** ${(x+1)*8-1}${R}`:re=`>= ${l}${R} and <= ${f}${R}`,new pe.ERR_OUT_OF_RANGE("value",re,y)}Te(g,E,x)}function _(y,l){if(typeof y!="number")throw new pe.ERR_INVALID_ARG_TYPE(l,"number",y)}function A(y,l,f){throw Math.floor(y)!==y?(_(y,f),new pe.ERR_OUT_OF_RANGE(f||"offset","an integer",y)):l<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${l}`,y)}const S=/[^+/0-9A-Za-z-_]/g;function U(y){if(y=y.split("=")[0],y=y.trim().replace(S,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function P(y,l){l=l||1/0;let f;const g=y.length;let E=null;const x=[];for(let R=0;R<g;++R){if(f=y.charCodeAt(R),f>55295&&f<57344){if(!E){if(f>56319){(l-=3)>-1&&x.push(239,191,189);continue}else if(R+1===g){(l-=3)>-1&&x.push(239,191,189);continue}E=f;continue}if(f<56320){(l-=3)>-1&&x.push(239,191,189),E=f;continue}f=(E-55296<<10|f-56320)+65536}else E&&(l-=3)>-1&&x.push(239,191,189);if(E=null,f<128){if((l-=1)<0)break;x.push(f)}else if(f<2048){if((l-=2)<0)break;x.push(f>>6|192,f&63|128)}else if(f<65536){if((l-=3)<0)break;x.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((l-=4)<0)break;x.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return x}function j(y){const l=[];for(let f=0;f<y.length;++f)l.push(y.charCodeAt(f)&255);return l}function H(y,l){let f,g,E;const x=[];for(let R=0;R<y.length&&!((l-=2)<0);++R)f=y.charCodeAt(R),g=f>>8,E=f%256,x.push(E),x.push(g);return x}function M(y){return t.toByteArray(U(y))}function z(y,l,f,g){let E;for(E=0;E<g&&!(E+f>=l.length||E>=y.length);++E)l[E+f]=y[E];return E}function D(y,l){return y instanceof l||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===l.name}function J(y){return y!==y}const W=function(){const y="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){const g=f*16;for(let E=0;E<16;++E)l[g+E]=y[f]+y[E]}return l}();function K(y){return typeof BigInt=="undefined"?ee:y}function ee(){throw new Error("BigInt not supported")}})(buffer);const{Buffer}=buffer,symbol=Symbol.for("BufferList");function BufferList(e){if(!(this instanceof BufferList))return new BufferList(e);BufferList._init.call(this,e)}BufferList._init=function e(t){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};BufferList.prototype._new=function e(t){return new BufferList(t)};BufferList.prototype._offset=function e(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){const o=r+this._bufs[n].length;if(t<o||n===this._bufs.length-1)return[n,t-r];r=o}};BufferList.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r};BufferList.prototype.get=function e(t){if(t>this.length||t<0)return;const r=this._offset(t);return this._bufs[r[0]][r[1]]};BufferList.prototype.slice=function e(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};BufferList.prototype.copy=function e(t,r,n,o){if((typeof n!="number"||n<0)&&(n=0),(typeof o!="number"||o>this.length)&&(o=this.length),n>=this.length||o<=0)return t||Buffer.alloc(0);const s=!!t,a=this._offset(n),c=o-n;let u=c,d=s&&r||0,h=a[1];if(n===0&&o===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(let w=0;w<this._bufs.length;w++)this._bufs[w].copy(t,d),d+=this._bufs[w].length;return t}if(u<=this._bufs[a[0]].length-h)return s?this._bufs[a[0]].copy(t,r,h,h+u):this._bufs[a[0]].slice(h,h+u);s||(t=Buffer.allocUnsafe(c));for(let w=a[0];w<this._bufs.length;w++){const b=this._bufs[w].length-h;if(u>b)this._bufs[w].copy(t,d,h),d+=b;else{this._bufs[w].copy(t,d,h,h+u),d+=b;break}u-=b,h&&(h=0)}return t.length>d?t.slice(0,d):t};BufferList.prototype.shallowSlice=function e(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();const n=this._offset(t),o=this._offset(r),s=this._bufs.slice(n[0],o[0]+1);return o[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,o[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};BufferList.prototype.toString=function e(t,r,n){return this.slice(r,n).toString(t)};BufferList.prototype.consume=function e(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};BufferList.prototype.duplicate=function e(){const t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};BufferList.prototype.append=function e(t){if(t==null)return this;if(t.buffer)this._appendBuffer(Buffer.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(Buffer.from(t));return this};BufferList.prototype._appendBuffer=function e(t){this._bufs.push(t),this.length+=t.length};BufferList.prototype.indexOf=function(e,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=Buffer.from([e]):typeof e=="string"?e=Buffer.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.isBuffer(e)||(e=Buffer.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),e.length===0)return t>this.length?this.length:t;const n=this._offset(t);let o=n[0],s=n[1];for(;o<this._bufs.length;o++){const a=this._bufs[o];for(;s<a.length;)if(a.length-s>=e.length){const u=a.indexOf(e,s);if(u!==-1)return this._reverseOffset([o,u]);s=a.length-e.length+1}else{const u=this._reverseOffset([o,s]);if(this._match(u,e))return u;s++}s=0}return-1};BufferList.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0};(function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)(function(r){e[r]===null?BufferList.prototype[r]=function(n,o){return this.slice(n,n+o)[r](0,o)}:BufferList.prototype[r]=function(n=0){return this.slice(n,n+e[r])[r](0)}})(t)})();BufferList.prototype._isBufferList=function e(t){return t instanceof BufferList||BufferList.isBufferList(t)};BufferList.isBufferList=function e(t){return t!=null&&t[symbol]};var BufferList_1=BufferList;class Rabin$1{constructor(t,r=12,n=8*1024,o=32*1024,s=64,a){this.bits=r,this.min=n,this.max=o,this.asModule=t,this.rabin=new t.Rabin(r,n,o,s,a),this.polynomial=a}fingerprint(t){const{__retain:r,__release:n,__allocArray:o,__getInt32Array:s,Int32Array_ID:a,Uint8Array_ID:c}=this.asModule,u=new Int32Array(Math.ceil(t.length/this.min)),d=r(o(a,u)),h=r(o(c,t)),w=this.rabin.fingerprint(h,d),b=s(w);n(h),n(d);const B=b.indexOf(0);return B>=0?b.subarray(0,B):b}}var rabin$1=Rabin$1,loader={};const ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1<<0,ARRAY=1<<1,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1<<10,VAL_FLOAT=1<<11,VAL_MANAGED=1<<13,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT=typeof BigUint64Array!="undefined",THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl(e,t){const r=new Uint32Array(e),n=new Uint16Array(e);var o=r[t+SIZE_OFFSET>>>2]>>>1,s=t>>>1;if(o<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(s,s+o));const a=[];do{const c=n[s+CHUNKSIZE-1],u=c>=55296&&c<56320?CHUNKSIZE-1:CHUNKSIZE;a.push(String.fromCharCode.apply(String,n.subarray(s,s+=u))),o-=u}while(o>CHUNKSIZE);return a.join("")+String.fromCharCode.apply(String,n.subarray(s,s+o))}function preInstantiate(e){const t={};function r(o,s){return o?getStringImpl(o.buffer,s):"<yet unknown>"}const n=e.env=e.env||{};return n.abort=n.abort||function(s,a,c,u){const d=t.memory||n.memory;throw Error("abort: "+r(d,s)+" at "+r(d,a)+":"+c+":"+u)},n.trace=n.trace||function(s,a){const c=t.memory||n.memory;console.log("trace: "+r(c,s)+(a?" ":"")+Array.prototype.slice.call(arguments,2,2+a).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function postInstantiate(e,t){const r=t.exports,n=r.memory,o=r.table,s=r.__alloc,a=r.__retain,c=r.__rtti_base||-1;function u(k){const O=new Uint32Array(n.buffer),L=O[c>>>2];if((k>>>=0)>=L)throw Error("invalid id: "+k);return O[(c+4>>>2)+k*2]}function d(k){const O=new Uint32Array(n.buffer),L=O[c>>>2];if((k>>>=0)>=L)throw Error("invalid id: "+k);return O[(c+4>>>2)+k*2+1]}function h(k){return 31-Math.clz32(k>>>VAL_ALIGN_OFFSET&31)}function w(k){const O=k.length,L=s(O<<1,STRING_ID),C=new Uint16Array(n.buffer);for(var $=0,Y=L>>>1;$<O;++$)C[Y+$]=k.charCodeAt($);return L}e.__allocString=w;function b(k){const O=n.buffer;if(new Uint32Array(O)[k+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+k);return getStringImpl(O,k)}e.__getString=b;function B(k,O,L){const C=n.buffer;if(L)switch(k){case 2:return new Float32Array(C);case 3:return new Float64Array(C)}else switch(k){case 0:return new(O?Int8Array:Uint8Array)(C);case 1:return new(O?Int16Array:Uint16Array)(C);case 2:return new(O?Int32Array:Uint32Array)(C);case 3:return new(O?BigInt64Array:BigUint64Array)(C)}throw Error("unsupported align: "+k)}function v(k,O){const L=u(k);if(!(L&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+k+" @ "+L);const C=h(L),$=O.length,Y=s($<<C,ARRAYBUFFER_ID),ae=s(L&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,k),fe=new Uint32Array(n.buffer);fe[ae+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=a(Y),fe[ae+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=Y,fe[ae+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=$<<C,L&ARRAY&&(fe[ae+ARRAY_LENGTH_OFFSET>>>2]=$);const he=B(C,L&VAL_SIGNED,L&VAL_FLOAT);if(L&VAL_MANAGED)for(let ye=0;ye<$;++ye)he[(Y>>>C)+ye]=a(O[ye]);else he.set(O,Y>>>C);return ae}e.__allocArray=v;function m(k){const O=new Uint32Array(n.buffer),L=O[k+ID_OFFSET>>>2],C=u(L);if(!(C&ARRAYBUFFERVIEW))throw Error("not an array: "+L);const $=h(C);var Y=O[k+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];const ae=C&ARRAY?O[k+ARRAY_LENGTH_OFFSET>>>2]:O[Y+SIZE_OFFSET>>>2]>>>$;return B($,C&VAL_SIGNED,C&VAL_FLOAT).subarray(Y>>>=$,Y+ae)}e.__getArrayView=m;function T(k){const O=m(k),L=O.length,C=new Array(L);for(let $=0;$<L;$++)C[$]=O[$];return C}e.__getArray=T;function I(k){const O=n.buffer,L=new Uint32Array(O)[k+SIZE_OFFSET>>>2];return O.slice(k,k+L)}e.__getArrayBuffer=I;function X(k,O,L){return new k(N(k,O,L))}function N(k,O,L){const C=n.buffer,$=new Uint32Array(C),Y=$[L+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new k(C,Y,$[Y+SIZE_OFFSET>>>2]>>>O)}e.__getInt8Array=X.bind(null,Int8Array,0),e.__getInt8ArrayView=N.bind(null,Int8Array,0),e.__getUint8Array=X.bind(null,Uint8Array,0),e.__getUint8ArrayView=N.bind(null,Uint8Array,0),e.__getUint8ClampedArray=X.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=N.bind(null,Uint8ClampedArray,0),e.__getInt16Array=X.bind(null,Int16Array,1),e.__getInt16ArrayView=N.bind(null,Int16Array,1),e.__getUint16Array=X.bind(null,Uint16Array,1),e.__getUint16ArrayView=N.bind(null,Uint16Array,1),e.__getInt32Array=X.bind(null,Int32Array,2),e.__getInt32ArrayView=N.bind(null,Int32Array,2),e.__getUint32Array=X.bind(null,Uint32Array,2),e.__getUint32ArrayView=N.bind(null,Uint32Array,2),BIGINT&&(e.__getInt64Array=X.bind(null,BigInt64Array,3),e.__getInt64ArrayView=N.bind(null,BigInt64Array,3),e.__getUint64Array=X.bind(null,BigUint64Array,3),e.__getUint64ArrayView=N.bind(null,BigUint64Array,3)),e.__getFloat32Array=X.bind(null,Float32Array,2),e.__getFloat32ArrayView=N.bind(null,Float32Array,2),e.__getFloat64Array=X.bind(null,Float64Array,3),e.__getFloat64ArrayView=N.bind(null,Float64Array,3);function F(k,O){const L=new Uint32Array(n.buffer);var C=L[k+ID_OFFSET>>>2];if(C<=L[c>>>2])do if(C==O)return!0;while(C=d(C));return!1}return e.__instanceof=F,e.memory=e.memory||n,e.table=e.table||o,demangle(r,e)}function isResponse(e){return typeof Response!="undefined"&&e instanceof Response}async function instantiate$1(e,t){return isResponse(e=await e)?instantiateStreaming(e,t):postInstantiate(preInstantiate(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}loader.instantiate=instantiate$1;function instantiateSync(e,t){return postInstantiate(preInstantiate(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))}loader.instantiateSync=instantiateSync;async function instantiateStreaming(e,t){return WebAssembly.instantiateStreaming?postInstantiate(preInstantiate(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance):instantiate$1(isResponse(e=await e)?e.arrayBuffer():e,t)}loader.instantiateStreaming=instantiateStreaming;function demangle(e,t){var r=t?Object.create(t):{},n=e.__argumentsLength?function(o){e.__argumentsLength.value=o}:e.__setArgumentsLength||e.__setargc||function(){};for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;const s=e[o];let a=o.split("."),c=r;for(;a.length>1;){let h=a.shift();Object.prototype.hasOwnProperty.call(c,h)||(c[h]={}),c=c[h]}let u=a[0],d=u.indexOf("#");if(d>=0){let h=u.substring(0,d),w=c[h];if(typeof w=="undefined"||!w.prototype){let b=function(...B){return b.wrap(b.prototype.constructor(0,...B))};b.prototype={valueOf:function(){return this[THIS]}},b.wrap=function(B){return Object.create(b.prototype,{[THIS]:{value:B,writable:!1}})},w&&Object.getOwnPropertyNames(w).forEach(B=>Object.defineProperty(b,B,Object.getOwnPropertyDescriptor(w,B))),c[h]=b}if(u=u.substring(d+1),c=c[h].prototype,/^(get|set):/.test(u)){if(!Object.prototype.hasOwnProperty.call(c,u=u.substring(4))){let b=e[o.replace("set:","get:")],B=e[o.replace("get:","set:")];Object.defineProperty(c,u,{get:function(){return b(this[THIS])},set:function(v){B(this[THIS],v)},enumerable:!0})}}else u==="constructor"?(c[u]=(...b)=>(n(b.length),s(...b))).original=s:(c[u]=function(...b){return n(b.length),s(this[THIS],...b)}).original=s}else/^(get|set):/.test(u)?Object.prototype.hasOwnProperty.call(c,u=u.substring(4))||Object.defineProperty(c,u,{get:e[o.replace("set:","get:")],set:e[o.replace("get:","set:")],enumerable:!0}):typeof s=="function"&&s!==n?(c[u]=(...h)=>(n(h.length),s(...h))).original=s:c[u]=s}return r}loader.demangle=demangle;const{instantiate}=loader;loadWebAssembly.supported=typeof WebAssembly!="undefined";function loadWebAssembly(e={}){if(!loadWebAssembly.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([t],{type:"application/wasm"})),e)}var rabinWasm=loadWebAssembly;const Rabin=rabin$1,getRabin=rabinWasm,create$1=async(e,t,r,n,o)=>{const s=await getRabin();return new Rabin(s,e,t,r,n,o)};var src$1={Rabin,create:create$1};async function*rabinChunker(e,t){let r,n,o;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)o=t.avgChunkSize,r=t.minChunkSize,n=t.maxChunkSize;else if(t.avgChunkSize)o=t.avgChunkSize,r=o/3,n=o+o/2;else throw errCode(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(r<16)throw errCode(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");n<r&&(n=r),o<r&&(o=r);const s=Math.floor(Math.log2(o));for await(const a of rabin(e,{min:r,max:n,bits:s,window:t.window,polynomial:t.polynomial}))yield a}async function*rabin(e,t){const r=await src$1.create(t.bits,t.min,t.max,t.window),n=new BufferList_1;for await(const o of e){n.append(o);const s=r.fingerprint(o);for(let a=0;a<s.length;a++){const c=s[a],u=n.slice(0,c);n.consume(c),yield u}}n.length&&(yield n.slice(0))}async function*fixedSizeChunker(e,t){let r=new BufferList_1,n=0,o=!1;const s=t.maxChunkSize;for await(const a of e)for(r.append(a),n+=a.length;n>=s;)if(yield r.slice(0,s),o=!0,s===r.length)r=new BufferList_1,n=0;else{const c=new BufferList_1;c.append(r.shallowSlice(s)),r=c,n-=s}(!o||n)&&(yield r.slice(0,n))}const identity$2=from$1({prefix:"\0",name:"identity",encode:e=>toString$1(e),decode:e=>fromString$3(e)});var identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"}));const base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"}));const base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"}));const base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"});var base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"}));const base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"}));const base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"}));const base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"}));const code$1=0,name$1="identity",encode$2=coerce,digest=e=>create$5(code$1,encode$2(e)),identity={code:code$1,name:name$1,encode:encode$2,digest};var identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1};({...sha2,...identity$1});function createCodec(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string=createCodec("utf8","u",e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),ascii=createCodec("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(e,t="utf8"){const r=BASES[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}var fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"}));async function*validateChunks(e){for await(const t of e){if(t.length===void 0)throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof t=="string"||t instanceof String)yield fromString(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else if(t instanceof Uint8Array)yield t;else throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}function isIterable(e){return Symbol.iterator in e}function isAsyncIterable(e){return Symbol.asyncIterator in e}function contentAsAsyncIterable(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(isIterable(e))return async function*(){yield*e}();if(isAsyncIterable(e))return e}catch{throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*dagBuilder(e,t,r){for await(const n of e)if(n.path&&(n.path.substring(0,2)==="./"&&(r.wrapWithDirectory=!0),n.path=n.path.split("/").filter(o=>o&&o!==".").join("/")),n.content){let o;typeof r.chunker=="function"?o=r.chunker:r.chunker==="rabin"?o=rabinChunker:o=fixedSizeChunker;let s;typeof r.chunkValidator=="function"?s=r.chunkValidator:s=validateChunks;const a={path:n.path,mtime:n.mtime,mode:n.mode,content:o(s(contentAsAsyncIterable(n.content),r),r)};yield()=>fileBuilder(a,t,r)}else if(n.path){const o={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>dirBuilder(o,t,r)}else throw new Error("Import candidate must have content or path or both")}class Dir{constructor(t,r){this.options=r||{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime,this.cid=void 0,this.size=void 0}async put(t,r){}get(t){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(t){}}class DirFlat extends Dir{constructor(t,r){super(t,r),this._children={}}async put(t,r){this.cid=void 0,this.size=void 0,this._children[t]=r}get(t){return Promise.resolve(this._children[t])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const t=Object.keys(this._children);for(let r=0;r<t.length;r++){const n=t[r];yield{key:n,child:this._children[n]}}}async*flush(t){const r=Object.keys(this._children),n=[];for(let d=0;d<r.length;d++){let h=this._children[r[d]];if(h instanceof Dir)for await(const w of h.flush(t))h=w,yield h;h.size!=null&&h.cid&&n.push({Name:r[d],Tsize:h.size,Hash:h.cid})}const o=new UnixFS({type:"directory",mtime:this.mtime,mode:this.mode}),s={Data:o.marshal(),Links:n},a=encode$4(prepare(s)),c=await persist(a,t,this.options),u=a.length+s.Links.reduce((d,h)=>d+(h.Tsize==null?0:h.Tsize),0);this.cid=c,this.size=u,yield{cid:c,unixfs:o,path:this.path,size:u}}}const BITS_PER_BYTE=7;var sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(t,r){let n=this._internalPositionFor(t,!1);if(r===void 0)n!==-1&&(this._unsetInternalPos(n),this._unsetBit(t),this._changedLength=!0,this._changedData=!0);else{let o=!1;n===-1?(n=this._data.length,this._setBit(t),this._changedData=!0):o=!0,this._setInternalPos(n,t,r,o),this._changedLength=!0}}unset(t){this.set(t,void 0)}get(t){this._sortData();const r=this._internalPositionFor(t,!0);if(r!==-1)return this._data[r][1]}push(t){return this.set(this.length,t),this.length}get length(){if(this._sortData(),this._changedLength){const t=this._data[this._data.length-1];this._length=t?t[0]+1:0,this._changedLength=!1}return this._length}forEach(t){let r=0;for(;r<this.length;)t(this.get(r),r,this),r++}map(t){let r=0,n=new Array(this.length);for(;r<this.length;)n[r]=t(this.get(r),r,this),r++;return n}reduce(t,r){let n=0,o=r;for(;n<this.length;){const s=this.get(n);o=t(o,s,n),n++}return o}find(t){let r=0,n,o;for(;r<this.length&&!n;)o=this.get(r),n=t(o),r++;return n?o:void 0}_internalPositionFor(t,r){const n=this._bytePosFor(t,r);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],s=t-n*BITS_PER_BYTE;if(!((o&1<<s)>0))return-1;const c=this._bitArrays.slice(0,n).reduce(popCountReduce,0),u=~(4294967295<<s+1),d=popCount(o&u);return c+d-1}_bytePosFor(t,r){const n=Math.floor(t/BITS_PER_BYTE),o=n+1;for(;!r&&this._bitArrays.length<o;)this._bitArrays.push(0);return n}_setBit(t){const r=this._bytePosFor(t,!1);this._bitArrays[r]|=1<<t-r*BITS_PER_BYTE}_unsetBit(t){const r=this._bytePosFor(t,!1);this._bitArrays[r]&=~(1<<t-r*BITS_PER_BYTE)}_setInternalPos(t,r,n,o){const s=this._data,a=[r,n];if(o)this._sortData(),s[t]=a;else{if(s.length)if(s[s.length-1][0]>=r)s.push(a);else if(s[0][0]<=r)s.unshift(a);else{const c=Math.round(s.length/2);this._data=s.slice(0,c).concat(a).concat(s.slice(c))}else this._data.push(a);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(t){this._data.splice(t,1)}_sortData(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}bitField(){const t=[];let r=8,n=0,o=0,s;const a=this._bitArrays.slice();for(;a.length||n;){n===0&&(s=a.shift(),n=7);const u=Math.min(n,r),d=~(255<<u);o|=(s&d)<<8-r,s=s>>>u,n-=u,r-=u,(!r||!n&&!a.length)&&(t.push(o),o=0,r=8)}for(var c=t.length-1;c>0&&t[c]===0;c--)t.pop();return t}compactArray(){return this._sortData(),this._data.map(valueOnly)}};function popCountReduce(e,t){return e+popCount(t)}function popCount(e){let t=e;return t=t-(t>>1&1431655765),t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>24}function sortInternal(e,t){return e[0]-t[0]}function valueOnly(e){return e[1]}var require$$1$1=getAugmentedNamespace(fromString$1);const SparseArray=sparseArray,{fromString:uint8ArrayFromString}=require$$1$1;class Bucket$1{constructor(t,r,n=0){this._options=t,this._popCount=0,this._parent=r,this._posAtParent=n,this._children=new SparseArray,this.key=null}async put(t,r){const n=await this._findNewBucketAndPos(t);await n.bucket._putAt(n,t,r)}async get(t){const r=await this._findChild(t);if(r)return r.value}async del(t){const r=await this._findPlace(t),n=r.bucket._at(r.pos);n&&n.key===t&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,n)=>n instanceof Bucket$1?r+n.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const r of t)r instanceof Bucket$1?yield*r.eachLeafSeries():yield r;return[]}serialize(t,r){const n=[];return r(this._children.reduce((o,s,a)=>(s&&(s instanceof Bucket$1?o.push(s.serialize(t,r)):o.push(t(s,a))),o),n))}asyncTransform(t,r){return asyncTransformBucket(this,t,r)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(t){const r=await this._findPlace(t),n=r.bucket._at(r.pos);if(!(n instanceof Bucket$1)&&n&&n.key===t)return n}async _findPlace(t){const r=this._options.hash(typeof t=="string"?uint8ArrayFromString(t):t),n=await r.take(this._options.bits),o=this._children.get(n);return o instanceof Bucket$1?o._findPlace(r):{bucket:this,pos:n,hash:r,existingChild:o}}async _findNewBucketAndPos(t){const r=await this._findPlace(t);if(r.existingChild&&r.existingChild.key!==t){const n=new Bucket$1(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,n);const o=await n._findPlace(r.existingChild.hash);return o.bucket._putAt(o,r.existingChild.key,r.existingChild.value),n._findNewBucketAndPos(r.hash)}return r}_putAt(t,r,n){this._putObjectAt(t.pos,{key:r,value:n,hash:t.hash})}_putObjectAt(t,r){this._children.get(t)||this._popCount++,this._children.set(t,r)}_delAt(t){if(t===-1)throw new Error("Invalid position");this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const t=this._children.find(exists);if(t&&!(t instanceof Bucket$1)){const r=t.hash;r.untake(this._options.bits);const n={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(n,t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function exists(e){return Boolean(e)}function mapNode(e,t){return e.key}function reduceNodes(e){return e}async function asyncTransformBucket(e,t,r){const n=[];for(const o of e._children.compactArray())if(o instanceof Bucket$1)await asyncTransformBucket(o,t,r);else{const s=await t(o);n.push({bitField:e._children.bitField(),children:s})}return r(n)}var bucket=Bucket$1,consumableHash={exports:{}};const START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255];var consumableBuffer=class{constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(t){let r=t,n=0;for(;r&&this._haveBits();){const o=this._value[this._currentBytePos],s=this._currentBitPos+1,a=Math.min(s,r),c=byteBitsToInt(o,s-a,a);n=(n<<a)+c,r-=a,this._currentBitPos-=a,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function byteBitsToInt(e,t,r){const n=maskFor(t,r);return(e&n)>>>t}function maskFor(e,t){return START_MASKS[e]&STOP_MASKS[Math.min(t+e-1,7)]}function concat(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));const r=new Uint8Array(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}var concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(concat$1);const ConsumableBuffer=consumableBuffer,{concat:uint8ArrayConcat}=require$$1;function wrapHash$1(e){function t(r){return r instanceof InfiniteHash?r:new InfiniteHash(r,e)}return t}class InfiniteHash{constructor(t,r){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(t){let r=t;for(;this._availableBits<r;)await this._produceMoreBits();let n=0;for(;r>0;){const o=this._buffers[this._currentBufferIndex],s=Math.min(o.availableBits(),r),a=o.take(s);n=(n<<s)+a,r-=s,this._availableBits-=s,o.availableBits()===0&&this._currentBufferIndex++}return n}untake(t){let r=t;for(;r>0;){const n=this._buffers[this._currentBufferIndex],o=Math.min(n.totalBits()-n.availableBits(),r);n.untake(o),r-=o,this._availableBits+=o,this._currentBufferIndex>0&&n.totalBits()===n.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const t=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(t),n=new ConsumableBuffer(r);this._buffers.push(n),this._availableBits+=n.availableBits()}}consumableHash.exports=wrapHash$1;consumableHash.exports.InfiniteHash=InfiniteHash;const Bucket=bucket,wrapHash=consumableHash.exports;function createHAMT(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");const t={bits:e.bits||8,hash:wrapHash(e.hashFn)};return new Bucket(t)}var src={createHAMT,Bucket};class DirSharded extends Dir{constructor(t,r){super(t,r),this._bucket=src.createHAMT({hashFn:r.hamtHashFn,bits:r.hamtBucketBits})}async put(t,r){await this._bucket.put(t,r)}get(t){return this._bucket.get(t)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:t,value:r}of this._bucket.eachLeafSeries())yield{key:t,child:r}}async*flush(t){for await(const r of flush(this._bucket,t,this,this.options))yield{...r,path:this.path}}}async function*flush(e,t,r,n){const o=e._children,s=[];let a=0;for(let B=0;B<o.length;B++){const v=o.get(B);if(!v)continue;const m=B.toString(16).toUpperCase().padStart(2,"0");if(v instanceof src.Bucket){let T;for await(const I of await flush(v,t,null,n))T=I;if(!T)throw new Error("Could not flush sharded directory, no subshard found");s.push({Name:m,Tsize:T.size,Hash:T.cid}),a+=T.size}else if(typeof v.value.flush=="function"){const T=v.value;let I;for await(const N of T.flush(t))I=N,yield I;const X=m+v.key;s.push({Name:X,Tsize:I.size,Hash:I.cid}),a+=I.size}else{const T=v.value;if(!T.cid)continue;const I=m+v.key,X=T.size;s.push({Name:I,Tsize:X,Hash:T.cid}),a+=X}}const c=Uint8Array.from(o.bitField().reverse()),u=new UnixFS({type:"hamt-sharded-directory",data:c,fanout:e.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode}),d={Data:u.marshal(),Links:s},h=encode$4(prepare(d)),w=await persist(h,t,n),b=h.length+a;yield{cid:w,unixfs:u,size:b}}async function flatToShard(e,t,r,n){let o=t;t instanceof DirFlat&&t.directChildrenCount()>=r&&(o=await convertToShard(t,n));const s=o.parent;if(s){if(o!==t){if(e&&(e.parent=o),!o.parentKey)throw new Error("No parent key found");await s.put(o.parentKey,o)}return flatToShard(o,s,r,n)}return o}async function convertToShard(e,t){const r=new DirSharded({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(const{key:n,child:o}of e.eachChildSeries())await r.put(n,o);return r}const toPathComponents$1=(e="")=>(e.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);async function addToTree(e,t,r){const n=toPathComponents$1(e.path||""),o=n.length-1;let s=t,a="";for(let c=0;c<n.length;c++){const u=n[c];a+=`${a?"/":""}${u}`;const d=c===o;if(s.dirty=!0,s.cid=void 0,s.size=void 0,d)await s.put(u,e),t=await flatToShard(null,s,r.shardSplitThreshold,r);else{let h=await s.get(u);(!h||!(h instanceof Dir))&&(h=new DirFlat({root:!1,dir:!0,parent:s,parentKey:u,path:a,dirty:!0,flat:!0,mtime:h&&h.unixfs&&h.unixfs.mtime,mode:h&&h.unixfs&&h.unixfs.mode},r)),await s.put(u,h),s=h}}return t}async function*flushAndYield(e,t){if(!(e instanceof Dir)){e&&e.unixfs&&e.unixfs.isDirectory()&&(yield e);return}yield*e.flush(t)}async function*treeBuilder(e,t,r){let n=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(const o of e)!o||(n=await addToTree(o,n,r),(!o.unixfs||!o.unixfs.isDirectory())&&(yield o));if(r.wrapWithDirectory)yield*flushAndYield(n,t);else for await(const o of n.eachChildSeries())!o||(yield*flushAndYield(o.child,t))}async function*importer(e,t,r={}){const n=defaultOptions$1(r);let o;typeof r.dagBuilder=="function"?o=r.dagBuilder:o=dagBuilder;let s;typeof r.treeBuilder=="function"?s=r.treeBuilder:s=treeBuilder;let a;Symbol.asyncIterator in e||Symbol.iterator in e?a=e:a=[e];for await(const c of s(itParallelBatch(o(a,t,n),n.fileImportConcurrency),t,n))yield{cid:c.cid,path:c.path,unixfs:c.unixfs,size:c.size}}async function*browserReadableStreamToIt$1(e,t={}){const r=e.getReader();try{for(;;){const n=await r.read();if(n.done)return;yield n.value}}finally{t.preventCancel!==!0&&r.cancel(),r.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt(e){return typeof e.stream=="function"?browserReadableStreamToIt(e.stream()):browserReadableStreamToIt(new Response(e).body)}var blobToIt_1=blobToIt;function peekableIterator(e){const[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}var itPeekable=peekableIterator;const map=async function*(e,t){for await(const r of e)yield t(r)};var itMap=map;function isBytes$1(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function isBlob$1(e){return e.constructor&&(e.constructor.name==="Blob"||e.constructor.name==="File")&&typeof e.stream=="function"}function isFileObject(e){return typeof e=="object"&&(e.path||e.content)}const isReadableStream=e=>e&&typeof e.getReader=="function";async function*toAsyncIterable(e){yield e}async function normaliseContent(e){if(isBytes$1(e))return toAsyncIterable(toBytes(e));if(typeof e=="string"||e instanceof String)return toAsyncIterable(toBytes(e.toString()));if(isBlob$1(e))return blobToIt_1(e);if(isReadableStream(e)&&(e=browserReadablestreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=itPeekable(e),{value:r,done:n}=await t.peek();if(n)return toAsyncIterable(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return toAsyncIterable(Uint8Array.from(await itAll(t)));if(isBytes$1(r)||typeof r=="string"||r instanceof String)return itMap(t,toBytes)}throw errCode(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function toBytes(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):fromString(e.toString())}async function*normaliseCandidateSingle(e,t){if(e==null)throw errCode(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield toFileObject$1(e.toString(),t);return}if(isBytes$1(e)||isBlob$1(e)){yield toFileObject$1(e,t);return}if(isReadableStream(e)&&(e=browserReadablestreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=itPeekable(e),{value:n,done:o}=await r.peek();if(o){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||isBytes$1(n)||typeof n=="string"||n instanceof String){yield toFileObject$1(r,t);return}throw errCode(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject(e)){yield toFileObject$1(e,t);return}throw errCode(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1(e,t){const{path:r,mode:n,mtime:o,content:s}=e,a={path:r||"",mode:parseMode(n),mtime:parseMtime(o)};return s?a.content=await t(s):r||(a.content=await t(e)),a}function normaliseInput$1(e){return normaliseCandidateSingle(e,normaliseContent)}async function*normaliseCandidateMultiple(e,t){if(typeof e=="string"||e instanceof String||isBytes$1(e)||isBlob$1(e)||e._readableState)throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream(e)&&(e=browserReadablestreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=itPeekable(e),{value:n,done:o}=await r.peek();if(o){yield*[];return}if(r.push(n),Number.isInteger(n))throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*itMap(r,s=>toFileObject({content:s},t));return}if(isBytes$1(n)){yield toFileObject({content:r},t);return}if(isFileObject(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||isReadableStream(n)||isBlob$1(n)){yield*itMap(r,s=>toFileObject(s,t));return}}throw isFileObject(e)?errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function toFileObject(e,t){const{path:r,mode:n,mtime:o,content:s}=e,a={path:r||"",mode:parseMode(n),mtime:parseMtime(o)};return s?a.content=await t(s):r||(a.content=await t(e)),a}function normaliseInput(e){return normaliseCandidateMultiple(e,normaliseContent)}function isBytes(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function isBlob(e){return Boolean(e.constructor)&&(e.constructor.name==="Blob"||e.constructor.name==="File")&&typeof e.stream=="function"}function isSingle(e){return typeof e=="string"||e instanceof String||isBytes(e)||isBlob(e)||"_readableState"in e}function getNormaliser(e){return isSingle(e)?normaliseInput$1(e):normaliseInput(e)}function notFoundError(e){return e=e||new Error("Not Found"),errCode(e,"ERR_NOT_FOUND")}function abortedError(e){return e=e||new Error("Aborted"),errCode(e,"ERR_ABORTED")}var ErrorsImport=Object.freeze(Object.defineProperty({__proto__:null,notFoundError,abortedError},Symbol.toStringTag,{value:"Module"}));const drain=async e=>{for await(const t of e);};var itDrain=drain;const filter=async function*(e,t){for await(const r of e)await t(r)&&(yield r)};var itFilter=filter;const take=async function*(e,t){let r=0;if(!(t<1)){for await(const n of e)if(yield n,r++,r===t)return}};var itTake=take;const sortAll=(e,t)=>async function*(){yield*(await itAll(e)).sort(t)}();class BaseBlockstore{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(t,r,n){return Promise.reject(new Error(".put is not implemented"))}get(t,r){return Promise.reject(new Error(".get is not implemented"))}has(t,r){return Promise.reject(new Error(".has is not implemented"))}delete(t,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(t,r={}){for await(const{key:n,value:o}of t)await this.put(n,o,r),yield{key:n,value:o}}async*getMany(t,r={}){for await(const n of t)yield this.get(n,r)}async*deleteMany(t,r={}){for await(const n of t)await this.delete(n,r),yield n}batch(){let t=[],r=[];return{put(n,o){t.push({key:n,value:o})},delete(n){r.push(n)},commit:async n=>{await itDrain(this.putMany(t,n)),t=[],await itDrain(this.deleteMany(r,n)),r=[]}}}async*_all(t,r){throw new Error("._all is not implemented")}async*_allKeys(t,r){throw new Error("._allKeys is not implemented")}query(t,r){let n=this._all(t,r);if(t.prefix!=null&&(n=itFilter(n,o=>o.key.toString().startsWith(t.prefix||""))),Array.isArray(t.filters)&&(n=t.filters.reduce((o,s)=>itFilter(o,s),n)),Array.isArray(t.orders)&&(n=t.orders.reduce((o,s)=>sortAll(o,s),n)),t.offset!=null){let o=0;n=itFilter(n,()=>o++>=(t.offset||0))}return t.limit!=null&&(n=itTake(n,t.limit)),n}queryKeys(t,r){let n=this._allKeys(t,r);if(t.prefix!=null&&(n=itFilter(n,o=>o.toString().startsWith(t.prefix||""))),Array.isArray(t.filters)&&(n=t.filters.reduce((o,s)=>itFilter(o,s),n)),Array.isArray(t.orders)&&(n=t.orders.reduce((o,s)=>sortAll(o,s),n)),t.offset!=null){let o=0;n=itFilter(n,()=>o++>=t.offset)}return t.limit!=null&&(n=itTake(n,t.limit)),n}}({...ErrorsImport});class MemoryBlockStore extends BaseBlockstore{constructor(){super(),this.store=new Map}async*blocks(){for(const[t,r]of this.store.entries())yield{cid:CID.parse(t),bytes:r}}put(t,r){return this.store.set(t.toString(),r),Promise.resolve()}get(t){const r=this.store.get(t.toString());if(!r)throw new Error(`block with cid ${t.toString()} no found`);return Promise.resolve(r)}has(t){return Promise.resolve(this.store.has(t.toString()))}close(){return this.store.clear(),Promise.resolve()}}const unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function pack({input:e,blockstore:t,hasher:r,maxChunkSize:n,maxChildrenPerNode:o,wrapWithDirectory:s,rawLeaves:a}){if(!e||Array.isArray(e)&&!e.length)throw new Error("missing input file(s)");const c=t||new MemoryBlockStore,u=await itLast(pipe$1(getNormaliser(e),T=>importer(T,c,{...unixfsImporterOptionsDefault,hasher:r||unixfsImporterOptionsDefault.hasher,maxChunkSize:n||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:o||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:s===!1?!1:unixfsImporterOptionsDefault.wrapWithDirectory,rawLeaves:a==null?unixfsImporterOptionsDefault.rawLeaves:a})));if(!u||!u.cid)throw new Error("given input could not be parsed correctly");const d=u.cid,{writer:h,out:w}=await CarWriter$1.create([d]),b=w[Symbol.asyncIterator]();let B;const v=async()=>{for await(const T of c.blocks())await h.put(T);await h.close(),t||await c.close()},m={[Symbol.asyncIterator](){if(B!=null)throw new Error("Multiple iterator not supported");return B=v(),{async next(){const T=await b.next();return T.done&&await B,T}}}};return{root:d,out:m}}const MAX_HEADER_LENGTH=2e3,THROW_ON_MAX_HEADER_LENGTH_EXCEEDED=!1;function hasRel(e){return e&&e.rel}function intoRels(e,t){function r(n){e[n]=Object.assign({},t,{rel:n})}return t.rel.split(/\s+/).forEach(r),e}function createObjects(e,t){const r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function parseLink(e){try{const t=e.match(/<?([^>]*)>(.*)/),r=t[1],n=t[2].split(";"),o={},s=new URL(r,"https://example.com");for(const[c,u]of s.searchParams)o[c]=u;n.shift();let a=n.reduce(createObjects,{});return a=Object.assign({},o,a),a.url=r,a}catch{return null}}function checkHeader(e,t){if(!e)return!1;t=t||{};const r=t.maxHeaderLength||MAX_HEADER_LENGTH,n=t.throwOnMaxHeaderLengthExceeded||THROW_ON_MAX_HEADER_LENGTH_EXCEEDED;if(e.length>r){if(n)throw new Error("Input string too long, it should be under "+r+" characters.");return!1}return!0}function parseLinkHeader(e,t){return checkHeader(e,t)?e.split(/,\s*</).map(parseLink).filter(hasRel).reduce(intoRels,{}):null}const hashFn=async function(e){return(await murmur3128.encode(e)).slice(0,8).reverse()},addLinksToHamtBucket=(e,t,r)=>Promise.all(e.map(n=>{if(n.Name==null)throw new Error("Unexpected Link without a Name");if(n.Name.length===2){const o=parseInt(n.Name,16);return t._putObjectAt(o,new src.Bucket({hash:r._options.hash,bits:r._options.bits},t,o))}return r.put(n.Name.substring(2),!0)})),toPrefix=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2),toBucketPath=e=>{let t=e.bucket;const r=[];for(;t._parent;)r.push(t),t=t._parent;return r.push(t),r.reverse()},findShardCid=async(e,t,r,n,o)=>{if(!n){const h=src.createHAMT({hashFn});n={rootBucket:h,hamtDepth:1,lastBucket:h}}await addLinksToHamtBucket(e.Links,n.lastBucket,n.rootBucket);const s=await n.rootBucket._findNewBucketAndPos(t);let a=toPrefix(s.pos);const c=toBucketPath(s);c.length>n.hamtDepth&&(n.lastBucket=c[n.hamtDepth],a=toPrefix(n.lastBucket._posAtParent));const u=e.Links.find(h=>{if(h.Name==null)return!1;const w=h.Name.substring(0,2),b=h.Name.substring(2);return!(w!==a||b&&b!==t)});if(!u)return null;if(u.Name!=null&&u.Name.substring(2)===t)return u.Hash;n.hamtDepth++;const d=await r.get(u.Hash,o);return e=decode$3(d),findShardCid(e,t,r,n,o)};function extractDataFromBlock(e,t,r,n){const o=e.length,s=t+o;return r>=s||n<t?new Uint8Array(0):(n>=t&&n<s&&(e=e.slice(0,n-t)),r>=t&&r<s&&(e=e.slice(r-t)),e)}const validateOffsetAndLength=(e,t,r)=>{if(t||(t=0),t<0)throw errCode(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw errCode(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!r&&r!==0&&(r=e-t),r<0)throw errCode(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+r>e&&(r=e-t),{offset:t,length:r}};async function*emitBytes(e,t,r,n,o=0,s){if(t instanceof Uint8Array){const u=extractDataFromBlock(t,o,r,n);return u.length&&(yield u),o+=u.length,o}if(t.Data==null)throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let a;try{a=UnixFS.unmarshal(t.Data)}catch(u){throw errCode(u,"ERR_NOT_UNIXFS")}if(a.data&&a.data.length){const u=extractDataFromBlock(a.data,o,r,n);u.length&&(yield u),o+=a.data.length}let c=o;for(let u=0;u<t.Links.length;u++){const d=t.Links[u],h=o+a.blockSizes[u];if(r>=c&&r<h||n>c&&n<=h||r<c&&n>h){const w=await e.get(d.Hash,{signal:s.signal});let b;switch(d.Hash.code){case code$4:b=await decode$3(w);break;case code$3:b=w;break;case code$5:b=await decode$4(w);break;default:throw Error(`Unsupported codec: ${d.Hash.code}`)}for await(const B of emitBytes(e,b,r,n,o,s))o+=B.length,yield B}o=h,c=h+1}}const fileContent=(e,t,r,n,o,s,a)=>{function c(u={}){const d=r.fileSize();if(d===void 0)throw new Error("File was a directory");const{offset:h,length:w}=validateOffsetAndLength(d,u.offset,u.length),b=h,B=h+w;return emitBytes(a,t,b,B,0,u)}return c},directoryContent=(e,t,r,n,o,s,a)=>{async function*c(u={}){const d=u.offset||0,h=u.length||t.Links.length,w=t.Links.slice(d,h);for(const b of w){const B=await o(b.Hash,b.Name||"",`${n}/${b.Name||""}`,[],s+1,a,u);B.entry&&(yield B.entry)}}return c},hamtShardedDirectoryContent=(e,t,r,n,o,s,a)=>{function c(u={}){return listDirectory(t,n,o,s,a,u)}return c};async function*listDirectory(e,t,r,n,o,s){const a=e.Links;for(const c of a){const u=c.Name!=null?c.Name.substring(2):null;if(u)yield(await r(c.Hash,u,`${t}/${u}`,[],n+1,o,s)).entry;else{const d=await o.get(c.Hash);e=decode$3(d);for await(const h of listDirectory(e,t,r,n,o,s))yield h}}}const findLinkCid=(e,t)=>{const r=e.Links.find(n=>n.Name===t);return r&&r.Hash},contentExporters={raw:fileContent,file:fileContent,directory:directoryContent,"hamt-sharded-directory":hamtShardedDirectoryContent,metadata:(e,t,r,n,o,s,a)=>()=>[],symlink:(e,t,r,n,o,s,a)=>()=>[]},unixFsResolver=async(e,t,r,n,o,s,a,c)=>{const u=await a.get(e,c),d=decode$3(u);let h,w;if(t||(t=e.toString()),d.Data==null)throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{h=UnixFS.unmarshal(d.Data)}catch(b){throw errCode(b,"ERR_NOT_UNIXFS")}if(r||(r=t),n.length){let b;if(h&&h.type==="hamt-sharded-directory"?b=await findShardCid(d,n[0],a):b=findLinkCid(d,n[0]),!b)throw errCode(new Error("file does not exist"),"ERR_NOT_FOUND");const B=n.shift(),v=`${r}/${B}`;w={cid:b,toResolve:n,name:B||"",path:v}}return{entry:{type:h.isDirectory()?"directory":"file",name:t,path:r,cid:e,content:contentExporters[h.type](e,d,h,r,o,s,a),unixfs:h,depth:s,node:d,size:h.fileSize()},next:w}},rawContent$1=e=>{async function*t(r={}){const{offset:n,length:o}=validateOffsetAndLength(e.length,r.offset,r.length);yield extractDataFromBlock(e,0,n,n+o)}return t},resolve$3=async(e,t,r,n,o,s,a,c)=>{if(n.length)throw errCode(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const u=await a.get(e,c);return{entry:{type:"raw",name:t,path:r,cid:e,content:rawContent$1(u),depth:s,size:u.length,node:u}}},resolve$2=async(e,t,r,n,o,s,a,c)=>{const u=await a.get(e),d=decode$4(u);let h=d,w=r;for(;n.length;){const b=n[0];if(b in h){n.shift(),w=`${w}/${b}`;const B=CID.asCID(h[b]);if(B)return{entry:{type:"object",name:t,path:r,cid:e,node:u,depth:s,size:u.length,content:async function*(){yield d}},next:{cid:B,name:b,path:w,toResolve:n}};h=h[b]}else throw errCode(new Error(`No property named ${b} found in cbor node ${e}`),"ERR_NO_PROP")}return{entry:{type:"object",name:t,path:r,cid:e,node:u,depth:s,size:u.length,content:async function*(){yield d}}}},rawContent=e=>{async function*t(r={}){const{offset:n,length:o}=validateOffsetAndLength(e.length,r.offset,r.length);yield extractDataFromBlock(e,0,n,n+o)}return t},resolve$1=async(e,t,r,n,o,s,a,c)=>{if(n.length)throw errCode(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const u=await decode$7(e.multihash.bytes);return{entry:{type:"identity",name:t,path:r,cid:e,content:rawContent(u.digest),depth:s,size:u.digest.length,node:u.digest}}},resolvers={[code$4]:unixFsResolver,[code$3]:resolve$3,[code$5]:resolve$2,[identity.code]:resolve$1};function resolve(e,t,r,n,o,s,a){const c=resolvers[e.code];if(!c)throw errCode(new Error(`No resolver for code ${e.code}`),"ERR_NO_RESOLVER");return c(e,t,r,n,resolve,o,s,a)}const toPathComponents=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),cidAndRest=e=>{if(e instanceof Uint8Array)return{cid:CID.decode(e),toResolve:[]};const t=CID.asCID(e);if(t)return{cid:t,toResolve:[]};if(typeof e=="string"){e.indexOf("/ipfs/")===0&&(e=e.substring(6));const r=toPathComponents(e);return{cid:CID.parse(r[0]),toResolve:r.slice(1)}}throw errCode(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")};async function*walkPath(e,t,r={}){let{cid:n,toResolve:o}=cidAndRest(e),s=n.toString(),a=s;const c=o.length;for(;;){const u=await resolve(n,s,a,o,c,t,r);if(!u.entry&&!u.next)throw errCode(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(u.entry&&(yield u.entry),!u.next)return;o=u.next.toResolve,n=u.next.cid,s=u.next.name,a=u.next.path}}async function exporter(e,t,r={}){const n=await itLast(walkPath(e,t,r));if(!n)throw errCode(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return n}async function*recursive(e,t,r={}){const n=await exporter(e,t,r);if(!n)return;if(yield n,n.type==="directory")for await(const s of o(n,r))yield s;async function*o(s,a){for await(const c of s.content(a))yield c,!(c instanceof Uint8Array)&&c.type==="directory"&&(yield*o(c,a))}}function equals(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}class VerifyingGetOnlyBlockStore extends BaseBlockstore{constructor(t){super(),this.store=t}async get(t){const r=await this.store.get(t);if(!r)throw new Error(`Incomplete CAR. Block missing for CID ${t}`);if(!isValid({cid:t,bytes:r}))throw new Error(`Invalid CAR. Hash of block data does not match CID ${t}`);return r}static fromBlockstore(t){return new VerifyingGetOnlyBlockStore(t)}static fromCarReader(t){return new VerifyingGetOnlyBlockStore({get:async r=>{const n=await t.get(r);return n==null?void 0:n.bytes}})}}async function isValid({cid:e,bytes:t}){const r=await sha256.digest(t);return equals(r.digest,e.multihash.digest)}async function*unpackStream(e,{roots:t,blockstore:r}={}){const n=await CarBlockIterator.fromIterable(asAsyncIterable(e)),o=r||new MemoryBlockStore;for await(const a of n)await o.put(a.cid,a.bytes);const s=VerifyingGetOnlyBlockStore.fromBlockstore(o);(!t||t.length===0)&&(t=await n.getRoots());for(const a of t)yield*recursive(a,s)}function asAsyncIterable(e){return Symbol.asyncIterator in e?e:browserReadablestreamToIt(e)}const CID_CBOR_TAG$1=42;function cidEncoder$1(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG$1),new Token(Type.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$1(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;const encode$1=e=>encode$6(e,encodeOptions$1),decode$1=e=>decode$5(e,decodeOptions$1),CIDV0_BYTES$1={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint$1(e){const t=await e.upTo(8),r=varint$1.decode(t);return e.seek(varint$1.decode.bytes),r}async function readHeader$1(e){const t=await readVarint$1(e);if(t===0)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(t);e.seek(t);const n=decode$1(r);if(n==null||Array.isArray(n)||typeof n!="object")throw new Error("Invalid CAR header format");if(n.version!==1)throw typeof n.version=="string"?new Error(`Invalid CAR version: "${n.version}"`):new Error(`Invalid CAR version: ${n.version}`);if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter(o=>o!=="roots"&&o!=="version").length)throw new Error("Invalid CAR header format");return n}async function readMultihash$1(e){const t=await e.upTo(8);varint$1.decode(t);const r=varint$1.decode.bytes,n=varint$1.decode(t.subarray(varint$1.decode.bytes)),o=varint$1.decode.bytes,s=r+o+n,a=await e.exactly(s);return e.seek(s),a}async function readCid$1(e){const t=await e.exactly(2);if(t[0]===CIDV0_BYTES$1.SHA2_256&&t[1]===CIDV0_BYTES$1.LENGTH){const a=await e.exactly(34);e.seek(34);const c=decode$7(a);return CID.create(0,CIDV0_BYTES$1.DAG_PB,c)}const r=await readVarint$1(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint$1(e),o=await readMultihash$1(e),s=decode$7(o);return CID.create(r,n,s)}async function readBlockHead$1(e){const t=e.pos;let r=await readVarint$1(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await readCid$1(e),o=r-(e.pos-t);return{cid:n,length:r,blockLength:o}}async function readBlock$1(e){const{cid:t,blockLength:r}=await readBlockHead$1(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function readBlockIndex$1(e){const t=e.pos,{cid:r,length:n,blockLength:o}=await readBlockHead$1(e),s={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function createDecoder$1(e){const t=readHeader$1(e);return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await readBlock$1(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await readBlockIndex$1(e)}}}function bytesReader$1(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function chunkReader$1(e){let t=0,r=0,n=0,o=new Uint8Array(0);const s=async a=>{r=o.length-n;const c=[o.subarray(n)];for(;r<a;){const d=await e();if(d==null)break;r<0?d.length>r&&c.push(d.subarray(-r)):c.push(d),r+=d.length}o=new Uint8Array(c.reduce((d,h)=>d+h.length,0));let u=0;for(const d of c)o.set(d,u),u+=d.length;n=0};return{async upTo(a){return o.length-n<a&&await s(a),o.subarray(n,n+Math.min(o.length-n,a))},async exactly(a){if(o.length-n<a&&await s(a),o.length-n<a)throw new Error("Unexpected end of data");return o.subarray(n,n+a)},seek(a){t+=a,n+=a},get pos(){return t}}}function asyncIterableReader$1(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return chunkReader$1(r)}class CarReader$1{constructor(t,r,n){this._version=t,this._roots=r,this._blocks=n,this._keys=n.map(o=>o.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(t){return this._keys.indexOf(t.toString())>-1}async get(t){const r=this._keys.indexOf(t.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const t of this._blocks)yield t}async*cids(){for(const t of this._blocks)yield t.cid}static async fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete$1(bytesReader$1(t))}static async fromIterable(t){if(!t||typeof t[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete$1(asyncIterableReader$1(t))}}async function decodeReaderComplete$1(e){const t=createDecoder$1(e),{version:r,roots:n}=await t.header(),o=[];for await(const s of t.blocks())o.push(s);return new CarReader$1(r,n,o)}function createHeader(e){const t=encode$1({version:1,roots:e}),r=varint$1.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function createEncoder(e){return{async setRoots(t){const r=createHeader(t);await e.write(r)},async writeBlock(t){const{cid:r,bytes:n}=t;await e.write(new Uint8Array(varint$1.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},async close(){return e.end()}}}function noop(){}function create(){const e=[];let t=null,r=noop,n=!1,o=null,s=noop;const a=()=>(t||(t=new Promise(d=>{r=()=>{t=null,r=noop,d()}})),t),c={write(d){e.push(d);const h=a();return s(),h},async end(){n=!0;const d=a();return s(),d}},u={async next(){const d=e.shift();return d?(e.length===0&&r(),{done:!1,value:d}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(h=>{s=()=>(o=null,s=noop,h(u.next()))})),o)}};return{writer:c,iterator:u}}class CarWriter{constructor(t,r){this._encoder=r,this._mutex=r.setRoots(t),this._ended=!1}async put(t){if(!(t.bytes instanceof Uint8Array)||!t.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const r=CID.asCID(t.cid);if(!r)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:r,bytes:t.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(t){t=toRoots(t);const{encoder:r,iterator:n}=encodeWriter(),o=new CarWriter(t,r),s=new CarWriterOut(n);return{writer:o,out:s}}static createAppender(){const{encoder:t,iterator:r}=encodeWriter();t.setRoots=()=>Promise.resolve();const n=new CarWriter([],t),o=new CarWriterOut(r);return{writer:n,out:o}}static async updateRootsInBytes(t,r){const n=bytesReader$1(t);await readHeader$1(n);const o=createHeader(r);if(n.pos!==o.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${o.length} bytes)`);return t.set(o,0),t}}class CarWriterOut{constructor(t){this._iterator=t}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const e=create(),{writer:t,iterator:r}=e;return{encoder:createEncoder(t),iterator:r}}function toRoots(e){if(e===void 0)return[];if(!Array.isArray(e)){const r=CID.asCID(e);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}const t=[];for(const r of e){const n=CID.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(n)}return t}const readonly=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),links=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[s,a]of n.entries()){const c=[...o,s],u=CID.asCID(a);u?yield[c.join("/"),u]:typeof a=="object"&&(yield*links(a,c))}else{const s=CID.asCID(n);s?yield[o.join("/"),s]:yield*links(n,o)}}},tree=function*(e,t){if(e!=null)for(const[r,n]of Object.entries(e)){const o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID.asCID(n))if(Array.isArray(n))for(const[s,a]of n.entries()){const c=[...o,s];yield c.join("/"),typeof a=="object"&&!CID.asCID(a)&&(yield*tree(a,c))}else yield*tree(n,o)}},get=(e,t)=>{let r=e;for(const[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);const s=CID.asCID(r);if(s)return{value:s,remaining:t.slice(n+1).join("/")}}return{value:r}};class Block{constructor({cid:t,bytes:r,value:n}){if(!t||!r||typeof n=="undefined")throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(t="/"){return get(this.value,t.split("/").filter(Boolean))}}const CID_CBOR_TAG=42;function cidEncoder(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,r)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name="dag-cbor",code=113,encode=e=>encode$6(e,encodeOptions),decode=e=>decode$5(e,decodeOptions);var cbor=Object.freeze(Object.defineProperty({__proto__:null,name,code,encode,decode},Symbol.toStringTag,{value:"Module"}));class TreewalkCarSplitter{constructor(t,r,n={}){if(typeof r!="number"||r<=0)throw new Error("invalid target chunk size");this._reader=t,this._targetSize=r,this._decoders=[pb,raw,cbor,...n.decoders||[]]}async*cars(){const t=await this._reader.getRoots();if(t.length!==1)throw new Error(`unexpected number of roots: ${t.length}`);let r;for await(const n of this._cars(t[0]))r=n.channel,n.out&&(yield n.out);if(!r)throw new Error("missing CAR writer channel");r.writer.close(),yield r.out}async _get(t){const r=await this._reader.get(t);if(!r)throw new Error(`missing block for ${t}`);const{bytes:n}=r,o=this._decoders.find(s=>s.code===t.code);if(!o)throw new Error(`missing decoder for ${t.code}`);return new Block({cid:t,bytes:n,value:o.decode(n)})}async*_cars(t,r=[],n=void 0){const o=await this._get(t);if(n=n||Object.assign(CarWriter.create(t),{size:0}),n.size>0&&n.size+o.bytes.byteLength>=this._targetSize){n.writer.close();const{out:s}=n;n=newCar(r),yield{channel:n,out:s}}r=r.concat(o),n.size+=o.bytes.byteLength,n.writer.put(o);for(const[,s]of o.links())for await(const a of this._cars(s,r,n))n=a.channel,yield a;if(!n)throw new Error("missing CAR writer channel");yield{channel:n}}static async fromIterable(t,r,n){const o=await CarReader$1.fromIterable(t);return new TreewalkCarSplitter(o,r,n)}static async fromBlob(t,r,n){const o=await t.arrayBuffer(),s=await CarReader$1.fromBytes(new Uint8Array(o));return new TreewalkCarSplitter(s,r,n)}}function newCar(e){const t=Object.assign(CarWriter.create(e[0].cid),{size:e.reduce((r,n)=>r+n.bytes.byteLength,0)});for(const r of e)t.writer.put(r);return t}const CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint(e){const t=await e.upTo(8),r=varint$1.decode(t);return e.seek(varint$1.decode.bytes),r}async function readHeader(e){const t=await readVarint(e);if(t===0)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(t);e.seek(t);const n=decode$4(r);if(n==null||Array.isArray(n)||typeof n!="object")throw new Error("Invalid CAR header format");if(n.version!==1)throw typeof n.version=="string"?new Error(`Invalid CAR version: "${n.version}"`):new Error(`Invalid CAR version: ${n.version}`);if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter(o=>o!=="roots"&&o!=="version").length)throw new Error("Invalid CAR header format");return n}async function readMultihash(e){const t=await e.upTo(8);varint$1.decode(t);const r=varint$1.decode.bytes,n=varint$1.decode(t.subarray(varint$1.decode.bytes)),o=varint$1.decode.bytes,s=r+o+n,a=await e.exactly(s);return e.seek(s),a}async function readCid(e){const t=await e.exactly(2);if(t[0]===CIDV0_BYTES.SHA2_256&&t[1]===CIDV0_BYTES.LENGTH){const a=await e.exactly(34);e.seek(34);const c=decode$7(a);return CID.create(0,CIDV0_BYTES.DAG_PB,c)}const r=await readVarint(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint(e),o=await readMultihash(e),s=decode$7(o);return CID.create(r,n,s)}async function readBlockHead(e){const t=e.pos;let r=await readVarint(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await readCid(e),o=r-(e.pos-t);return{cid:n,length:r,blockLength:o}}async function readBlock(e){const{cid:t,blockLength:r}=await readBlockHead(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function readBlockIndex(e){const t=e.pos,{cid:r,length:n,blockLength:o}=await readBlockHead(e),s={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function createDecoder(e){const t=readHeader(e);return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await readBlock(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await readBlockIndex(e)}}}function bytesReader(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function chunkReader(e){let t=0,r=0,n=0,o=new Uint8Array(0);const s=async a=>{r=o.length-n;const c=[o.subarray(n)];for(;r<a;){const d=await e();if(d==null)break;r<0?d.length>r&&c.push(d.subarray(-r)):c.push(d),r+=d.length}o=new Uint8Array(c.reduce((d,h)=>d+h.length,0));let u=0;for(const d of c)o.set(d,u),u+=d.length;n=0};return{async upTo(a){return o.length-n<a&&await s(a),o.subarray(n,n+Math.min(o.length-n,a))},async exactly(a){if(o.length-n<a&&await s(a),o.length-n<a)throw new Error("Unexpected end of data");return o.subarray(n,n+a)},seek(a){t+=a,n+=a},get pos(){return t}}}function asyncIterableReader(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return chunkReader(r)}class CarReader{constructor(t,r,n){this._version=t,this._roots=r,this._blocks=n,this._keys=n.map(o=>o.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(t){return this._keys.indexOf(t.toString())>-1}async get(t){const r=this._keys.indexOf(t.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const t of this._blocks)yield t}async*cids(){for(const t of this._blocks)yield t.cid}static async fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(t))}static async fromIterable(t){if(!t||typeof t[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(t))}}async function decodeReaderComplete(e){const t=createDecoder(e),{version:r,roots:n}=await t.header(),o=[];for await(const s of t.blocks())o.push(s);return new CarReader(r,n,o)}var throttledQueue$1={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(n,o,s){s===void 0&&(s=!1),s&&(o=o/n,n=1);var a=[],c=0,u=0,d,h=function(){var w=c+o,b=Date.now();if(b<w){d!==void 0&&clearTimeout(d),d=setTimeout(h,w-b);return}c=b,u=0;for(var B=0,v=a.splice(0,n);B<v.length;B++){var m=v[B];u++,m()}a.length?d=setTimeout(h,o):d=void 0};return function(w){return new Promise(function(b,B){var v=function(){return Promise.resolve().then(w).then(b).catch(B)},m=Date.now();d===void 0&&m-c>o&&(c=m,u=0),u++<n?v():(a.push(v),d===void 0&&(d=setTimeout(h,c+o-m)))})}}e.exports=r,t.default=r})(throttledQueue$1,throttledQueue$1.exports);var throttledQueue=getDefaultExportFromCjs(throttledQueue$1.exports);const fetch$1=globalThis.fetch,Blob$1=globalThis.Blob,File=globalThis.File,Blockstore=MemoryBlockStore,MAX_PUT_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,DEFAULT_CHUNK_SIZE=1024*1024*10,MAX_BLOCK_SIZE=1048576,MAX_CHUNK_SIZE=104857600,RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=10*1e3;function createRateLimiter(){const e=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return()=>e(()=>{})}const globalRateLimiter=createRateLimiter();class Web3Storage{constructor({token:t,endpoint:r=new URL("https://api.web3.storage"),rateLimiter:n}){this.token=t,this.endpoint=r,this.rateLimiter=n||createRateLimiter()}static headers(t){if(!t)throw new Error("missing token");return{Authorization:`Bearer ${t}`,"X-Client":"web3.storage/js"}}static async put({endpoint:t,token:r,rateLimiter:n=globalRateLimiter},o,{onRootCidReady:s,onStoredChunk:a,maxRetries:c=MAX_PUT_RETRIES,maxChunkSize:u=DEFAULT_CHUNK_SIZE,wrapWithDirectory:d=!0,name:h}={}){if(u>=MAX_CHUNK_SIZE||u<MAX_BLOCK_SIZE)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const w=new Blockstore;try{const{out:b,root:B}=await pack({input:Array.from(o).map(toImportCandidate),blockstore:w,wrapWithDirectory:d,maxChunkSize:MAX_BLOCK_SIZE,maxChildrenPerNode:1024});s&&s(B.toString());const v=await CarReader.fromIterable(b);return await Web3Storage.putCar({endpoint:t,token:r,rateLimiter:n},v,{onStoredChunk:a,maxRetries:c,maxChunkSize:u,name:h})}finally{await w.close()}}static async putCar({endpoint:t,token:r,rateLimiter:n=globalRateLimiter},o,{name:s,onStoredChunk:a,maxRetries:c=MAX_PUT_RETRIES,maxChunkSize:u=DEFAULT_CHUNK_SIZE,decoders:d}={}){if(u>=MAX_CHUNK_SIZE||u<MAX_BLOCK_SIZE)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const h=u,w=new URL("car",t);let b=Web3Storage.headers(r);s&&(b={...b,"X-Name":encodeURIComponent(s)});const B=await o.getRoots();if(B[0]==null)throw new Error("missing root CID");if(B.length>1)throw new Error("too many roots");const v=B[0].toString(),m=new TreewalkCarSplitter(o,h,{decoders:d}),I=transform(MAX_CONCURRENT_UPLOADS,async X=>{const N=[];for await(const O of X)N.push(O);const F=new Blob$1(N,{type:"application/vnd.ipld.car"}),k=await pRetry$1(async()=>{await n();const O=await fetch$1(w.toString(),{method:"POST",headers:b,body:F});if(O.status===429)throw new Error("rate limited");const L=await O.json();if(!O.ok)throw new Error(L.message);if(L.cid!==v)throw new Error(`root CID mismatch, expected: ${v}, received: ${L.cid}`);return L.cid},{retries:c});return a&&a(F.size),k});for await(const X of I(m.cars()));return v}static async get({endpoint:t,token:r,rateLimiter:n=globalRateLimiter},o){const s=new URL(`car/${o}`,t);await n();const a=await fetch$1(s.toString(),{method:"GET",headers:Web3Storage.headers(r)});if(a.status===429)throw new Error("rate limited");return toWeb3Response(a)}static async delete({endpoint:t,token:r,rateLimiter:n=globalRateLimiter},o){throw console.log("Not deleting",o,t,r,n),Error(".delete not implemented yet")}static async status({endpoint:t,token:r,rateLimiter:n=globalRateLimiter},o){const s=new URL(`status/${o}`,t);await n();const a=await fetch$1(s.toString(),{method:"GET",headers:Web3Storage.headers(r)});if(a.status===429)throw new Error("rate limited");if(a.status!==404){if(!a.ok)throw new Error(a.statusText);return a.json()}}static async*list(t,{before:r=new Date().toISOString(),maxResults:n=1/0}={}){async function o({endpoint:c,token:u,rateLimiter:d=globalRateLimiter},{before:h,size:w}){const b=new URLSearchParams({before:h,size:w.toString()}),B=new URL(`user/uploads?${b}`,c);return await d(),fetch$1(B.toString(),{method:"GET",headers:{...Web3Storage.headers(u),"Access-Control-Request-Headers":"Link"}})}let s=0;const a=n>100?100:n;for await(const c of paginator(o,t,{before:r,size:a})){if(!c.ok){if(c.status===429)throw new Error("rate limited");const d=await c.json();throw new Error(`${c.status} ${c.statusText} ${d?"- "+d.message:""}`)}const u=await c.json();for(const d of u){if(++s>n)return;yield d}}}put(t,r){return Web3Storage.put(this,t,r)}putCar(t,r){return Web3Storage.putCar(this,t,r)}get(t){return Web3Storage.get(this,t)}delete(t){return Web3Storage.delete(this,t)}status(t){return Web3Storage.status(this,t)}list(t){return Web3Storage.list(this,t)}}async function toWeb3File({content:e,path:t,cid:r}){const n=[];for await(const s of e())n.push(s);const o=new File(n,toFilenameWithPath(t));return Object.assign(o,{cid:r.toString()})}function toFilenameWithPath(e){const t=e.indexOf("/");return t===-1?e:e.substring(t+1)}function toWeb3Response(e){const t=Object.assign(e,{unixFsIterator:async function*(){if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!e.body)throw new Error("No body on response");const r=new Blockstore;try{for await(const n of unpackStream(e.body,{blockstore:r}))yield n}finally{await r.close()}},files:async()=>{if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .files`);const r=[];for await(const n of t.unixFsIterator()){if(n.type==="directory")continue;const o=await toWeb3File(n);r.push(o)}return r}});return t}function toImportCandidate(e){let t;return{path:e.name,get content(){return t=t||e.stream(),t}}}async function*paginator(e,t,r){let n=await e(t,r);yield n;let o=parseLinkHeader(n.headers.get("Link")||"");for(;o&&o.next;)n=await e(t,o.next),yield n,o=parseLinkHeader(n.headers.get("Link")||"")}var clipboard={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(e,t){(function(n,o){e.exports=o()})(commonjsGlobal,function(){return function(){var r={686:function(s,a,c){c.d(a,{default:function(){return ue}});var u=c(279),d=c.n(u),h=c(370),w=c.n(h),b=c(817),B=c.n(b);function v(G){try{return document.execCommand(G)}catch{return!1}}var m=function(V){var q=B()(V);return v("cut"),q},T=m;function I(G){var V=document.documentElement.getAttribute("dir")==="rtl",q=document.createElement("textarea");q.style.fontSize="12pt",q.style.border="0",q.style.padding="0",q.style.margin="0",q.style.position="absolute",q.style[V?"right":"left"]="-9999px";var Z=window.pageYOffset||document.documentElement.scrollTop;return q.style.top="".concat(Z,"px"),q.setAttribute("readonly",""),q.value=G,q}var X=function(V,q){var Z=I(V);q.container.appendChild(Z);var te=B()(Z);return v("copy"),Z.remove(),te},N=function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},Z="";return typeof V=="string"?Z=X(V,q):V instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(V==null?void 0:V.type)?Z=X(V.value,q):(Z=B()(V),v("copy")),Z},F=N;function k(G){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(q){return typeof q}:k=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},k(G)}var O=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=V.action,Z=q===void 0?"copy":q,te=V.container,Q=V.target,pe=V.text;if(Z!=="copy"&&Z!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Q!==void 0)if(Q&&k(Q)==="object"&&Q.nodeType===1){if(Z==="copy"&&Q.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(Z==="cut"&&(Q.hasAttribute("readonly")||Q.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(pe)return F(pe,{container:te});if(Q)return Z==="cut"?T(Q):F(Q,{container:te})},L=O;function C(G){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(q){return typeof q}:C=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},C(G)}function $(G,V){if(!(G instanceof V))throw new TypeError("Cannot call a class as a function")}function Y(G,V){for(var q=0;q<V.length;q++){var Z=V[q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(G,Z.key,Z)}}function ae(G,V,q){return V&&Y(G.prototype,V),q&&Y(G,q),G}function fe(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(V&&V.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),V&&he(G,V)}function he(G,V){return he=Object.setPrototypeOf||function(Z,te){return Z.__proto__=te,Z},he(G,V)}function ye(G){var V=le();return function(){var Z=se(G),te;if(V){var Q=se(this).constructor;te=Reflect.construct(Z,arguments,Q)}else te=Z.apply(this,arguments);return ne(this,te)}}function ne(G,V){return V&&(C(V)==="object"||typeof V=="function")?V:ge(G)}function ge(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function le(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function se(G){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},se(G)}function me(G,V){var q="data-clipboard-".concat(G);if(!!V.hasAttribute(q))return V.getAttribute(q)}var _e=function(G){fe(q,G);var V=ye(q);function q(Z,te){var Q;return $(this,q),Q=V.call(this),Q.resolveOptions(te),Q.listenClick(Z),Q}return ae(q,[{key:"resolveOptions",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof te.action=="function"?te.action:this.defaultAction,this.target=typeof te.target=="function"?te.target:this.defaultTarget,this.text=typeof te.text=="function"?te.text:this.defaultText,this.container=C(te.container)==="object"?te.container:document.body}},{key:"listenClick",value:function(te){var Q=this;this.listener=w()(te,"click",function(pe){return Q.onClick(pe)})}},{key:"onClick",value:function(te){var Q=te.delegateTarget||te.currentTarget,pe=this.action(Q)||"copy",we=L({action:pe,container:this.container,target:this.target(Q),text:this.text(Q)});this.emit(we?"success":"error",{action:pe,text:we,trigger:Q,clearSelection:function(){Q&&Q.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(te){return me("action",te)}},{key:"defaultTarget",value:function(te){var Q=me("target",te);if(Q)return document.querySelector(Q)}},{key:"defaultText",value:function(te){return me("text",te)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(te){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return F(te,Q)}},{key:"cut",value:function(te){return T(te)}},{key:"isSupported",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Q=typeof te=="string"?[te]:te,pe=!!document.queryCommandSupported;return Q.forEach(function(we){pe=pe&&!!document.queryCommandSupported(we)}),pe}}]),q}(d()),ue=_e},828:function(s){var a=9;if(typeof Element!="undefined"&&!Element.prototype.matches){var c=Element.prototype;c.matches=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector}function u(d,h){for(;d&&d.nodeType!==a;){if(typeof d.matches=="function"&&d.matches(h))return d;d=d.parentNode}}s.exports=u},438:function(s,a,c){var u=c(828);function d(b,B,v,m,T){var I=w.apply(this,arguments);return b.addEventListener(v,I,T),{destroy:function(){b.removeEventListener(v,I,T)}}}function h(b,B,v,m,T){return typeof b.addEventListener=="function"?d.apply(null,arguments):typeof v=="function"?d.bind(null,document).apply(null,arguments):(typeof b=="string"&&(b=document.querySelectorAll(b)),Array.prototype.map.call(b,function(I){return d(I,B,v,m,T)}))}function w(b,B,v,m){return function(T){T.delegateTarget=u(T.target,B),T.delegateTarget&&m.call(b,T)}}s.exports=h},879:function(s,a){a.node=function(c){return c!==void 0&&c instanceof HTMLElement&&c.nodeType===1},a.nodeList=function(c){var u=Object.prototype.toString.call(c);return c!==void 0&&(u==="[object NodeList]"||u==="[object HTMLCollection]")&&"length"in c&&(c.length===0||a.node(c[0]))},a.string=function(c){return typeof c=="string"||c instanceof String},a.fn=function(c){var u=Object.prototype.toString.call(c);return u==="[object Function]"}},370:function(s,a,c){var u=c(879),d=c(438);function h(v,m,T){if(!v&&!m&&!T)throw new Error("Missing required arguments");if(!u.string(m))throw new TypeError("Second argument must be a String");if(!u.fn(T))throw new TypeError("Third argument must be a Function");if(u.node(v))return w(v,m,T);if(u.nodeList(v))return b(v,m,T);if(u.string(v))return B(v,m,T);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function w(v,m,T){return v.addEventListener(m,T),{destroy:function(){v.removeEventListener(m,T)}}}function b(v,m,T){return Array.prototype.forEach.call(v,function(I){I.addEventListener(m,T)}),{destroy:function(){Array.prototype.forEach.call(v,function(I){I.removeEventListener(m,T)})}}}function B(v,m,T){return d(document.body,v,m,T)}s.exports=h},817:function(s){function a(c){var u;if(c.nodeName==="SELECT")c.focus(),u=c.value;else if(c.nodeName==="INPUT"||c.nodeName==="TEXTAREA"){var d=c.hasAttribute("readonly");d||c.setAttribute("readonly",""),c.select(),c.setSelectionRange(0,c.value.length),d||c.removeAttribute("readonly"),u=c.value}else{c.hasAttribute("contenteditable")&&c.focus();var h=window.getSelection(),w=document.createRange();w.selectNodeContents(c),h.removeAllRanges(),h.addRange(w),u=h.toString()}return u}s.exports=a},279:function(s){function a(){}a.prototype={on:function(c,u,d){var h=this.e||(this.e={});return(h[c]||(h[c]=[])).push({fn:u,ctx:d}),this},once:function(c,u,d){var h=this;function w(){h.off(c,w),u.apply(d,arguments)}return w._=u,this.on(c,w,d)},emit:function(c){var u=[].slice.call(arguments,1),d=((this.e||(this.e={}))[c]||[]).slice(),h=0,w=d.length;for(h;h<w;h++)d[h].fn.apply(d[h].ctx,u);return this},off:function(c,u){var d=this.e||(this.e={}),h=d[c],w=[];if(h&&u)for(var b=0,B=h.length;b<B;b++)h[b].fn!==u&&h[b].fn._!==u&&w.push(h[b]);return w.length?d[c]=w:delete d[c],this}},s.exports=a,s.exports.TinyEmitter=a}},n={};function o(s){if(n[s])return n[s].exports;var a=n[s]={exports:{}};return r[s](a,a.exports,o),a.exports}return function(){o.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(a,{a}),a}}(),function(){o.d=function(s,a){for(var c in a)o.o(a,c)&&!o.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:a[c]})}}(),function(){o.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)}}(),o(686)}().default})})(clipboard);var Clipboard=getDefaultExportFromCjs(clipboard.exports),useClipboard=e=>{const t=(e==null?void 0:e.appendToBody)===void 0?!0:e.appendToBody;return{toClipboard(r,n){return new Promise((o,s)=>{const a=document.createElement("button"),c=new Clipboard(a,{text:()=>r,action:()=>"copy",container:n!==void 0?n:document.body});c.on("success",u=>{c.destroy(),o(u)}),c.on("error",u=>{c.destroy(),s(u)}),t&&document.body.appendChild(a),a.click(),t&&document.body.removeChild(a)})}}},App_vue_vue_type_style_index_0_scoped_true_lang=(()=>`body[data-v-a0a5a1e6]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"}.message[data-v-a0a5a1e6]{width:100%;font-size:13px;text-align:left;margin:5px 0;color:#c33}a[data-v-a0a5a1e6]{color:#444;text-decoration:none}.result p[data-v-a0a5a1e6]{margin:0 0 5px;word-break:break-all}.result span[data-v-a0a5a1e6]{font-weight:700}.result span.copy[data-v-a0a5a1e6]{color:#39f;cursor:pointer}.result .success[data-v-a0a5a1e6]{color:#3c6;font-size:14px;margin:0 0 5px;font-weight:700}.upload-page[data-v-a0a5a1e6]{margin:0 auto;width:100%;max-width:550px;display:flex;flex-direction:column;justify-content:center;align-items:center}h1[data-v-a0a5a1e6]{font-size:23px}.upload-input[data-v-a0a5a1e6]{display:flex;width:100%}.upload-input__file[data-v-a0a5a1e6]{flex:2;box-sizing:border-box;border-bottom-left-radius:50px;border-top-left-radius:50px;padding:10px;border:2px solid #333}.upload-input__btn[data-v-a0a5a1e6]{height:50px;text-align:center;width:100px;color:#fff;border:2px solid #333;background:#333;font-weight:700;border-bottom-right-radius:50px;border-top-right-radius:50px}.preview[data-v-a0a5a1e6]{overflow:hidden;width:100%;margin:10px 0;color:#fff;background:#333;border-radius:10px;position:relative}.preview .preview__loading[data-v-a0a5a1e6]{position:absolute;z-index:1;top:0;left:0;color:#000;width:100%;height:100%;display:flex;font-size:30px;justify-content:center;align-items:center;background:rgba(255,255,255,.7)}.preview img[data-v-a0a5a1e6]{width:100%;display:block}.result[data-v-a0a5a1e6]{font-size:13px}
`)(),_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r};const _withScopeId=e=>(pushScopeId("data-v-a0a5a1e6"),e=e(),popScopeId(),e),_hoisted_1={class:"upload-page"},_hoisted_2=_withScopeId(()=>createBaseVNode("h1",null,"IPFS\u514D\u8D39\u56FE\u5E8A\u5DE5\u5177",-1)),_hoisted_3={class:"upload-input"},_hoisted_4=["disabled"],_hoisted_5=["disabled"],_hoisted_6={class:"message"},_hoisted_7={key:0,class:"preview"},_hoisted_8=["src"],_hoisted_9={key:0,class:"preview__loading"},_hoisted_10={key:1,class:"result"},_hoisted_11=_withScopeId(()=>createBaseVNode("p",{class:"success"},"\u4E0A\u4F20\u6210\u529F",-1)),_hoisted_12=_withScopeId(()=>createBaseVNode("span",null,"IPFS:",-1)),_hoisted_13=createTextVNode(),_hoisted_14=["href"],_hoisted_15=createTextVNode(),_hoisted_16=_withScopeId(()=>createBaseVNode("span",null,"\u94FE\u63A5:",-1)),_hoisted_17=createTextVNode(),_hoisted_18=["href"],_hoisted_19=createTextVNode(),_sfc_main={__name:"App",setup(e){const t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDI1OURkRUI4ZmU4YTE1QkQ5QjIyRThBMDIzNjFmNjk0MTEwQTFDNjEiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTUwMzgyNDk3MTAsIm5hbWUiOiJsb2NhbC1hcGkifQ.iODZTTs2JCbNWpPditRnCNbmhiQi8AZNqpcq7Bgflbw",n="https://{cid}.ipfs.dweb.link";let o=ref(null),s=ref(""),a=ref(null),c=ref(null),u=ref(!1),d=ref("0%"),h=ref(0),w=ref(""),b=ref("");onMounted(()=>{a.value=new FileReader,a.value.onloadend=()=>{s.value=a.value.result},c.value=new Web3Storage({token:t})});const B=computed(()=>b.value?`\u9519\u8BEF\u63D0\u793A: ${b.value}`:""),v=computed(()=>o.value!==null),m=computed(()=>u.value?"\u4E0A\u4F20\u4E2D":"\u4E0A\u4F20"),T=computed(()=>`ipfs://${w.value}`),I=computed(()=>n.replace("{cid}",w.value)),X=C=>{console.log(`ready cid: ${C}`)},N=C=>{h.value+=C,h.value>=o.value.size?d.value="\u5DF2\u5B8C\u6210":d.value=(h.value/o.value.size*100).toFixed(0)+"%",console.log(`total upload size: ${h.value}`)},F=async C=>{try{if(!o.value||o.value.size>104857600)return;if(u.value){b.value="\u6587\u4EF6\u4E0A\u4F20\u4E2D\u8BF7\u5306\u91CD\u590D\u64CD\u4F5C";return}d.value="0%",b.value="",w.value="",u.value=!0,w.value=await c.value.put([o.value],{name:o.value.name,onStoredChunk:N,onRootCidReady:X,wrapWithDirectory:!1})}catch($){b.value=`\u56FE\u7247\u4E0A\u4F20\u5931\u8D25: ${$.message}`,console.error("\u4E0A\u4F20\u5931\u8D25:",$)}finally{u.value=!1}},k=C=>{if(w.value="",C.target.files.length>0){if(o.value=C.target.files[0],o.value.size>104857600){b.value="\u56FE\u7247\u4E0D\u80FD\u5927\u4E8E100MB",o.value=null;return}else b.value="";console.log("\u4E0A\u4F20\u7684\u6587\u4EF6:",o.value),a.value.readAsDataURL(o.value)}},{toClipboard:O}=useClipboard(),L=async C=>{try{await O(C)}catch($){console.error("copy error:",$)}};return(C,$)=>(openBlock(),createElementBlock("div",_hoisted_1,[_hoisted_2,createBaseVNode("div",_hoisted_3,[createBaseVNode("input",{class:"upload-input__file",disabled:unref(u),type:"file",accept:"image/*",name:"file",onChange:k},null,40,_hoisted_4),createBaseVNode("button",{class:"upload-input__btn",disabled:unref(u),onClick:F},toDisplayString(unref(m)),9,_hoisted_5)]),createBaseVNode("div",_hoisted_6,toDisplayString(unref(B)),1),unref(v)?(openBlock(),createElementBlock("div",_hoisted_7,[createBaseVNode("img",{src:unref(s),alt:"\u4E0A\u4F20\u9884\u89C8"},null,8,_hoisted_8),unref(u)?(openBlock(),createElementBlock("div",_hoisted_9,toDisplayString(unref(d)),1)):createCommentVNode("",!0)])):createCommentVNode("",!0),unref(w)!==""?(openBlock(),createElementBlock("div",_hoisted_10,[_hoisted_11,createBaseVNode("p",null,[_hoisted_12,_hoisted_13,createBaseVNode("a",{target:"_blank",href:unref(T)},toDisplayString(unref(T)),9,_hoisted_14),_hoisted_15,createBaseVNode("span",{class:"copy",onClick:$[0]||($[0]=Y=>L(unref(T)))},"\u590D\u5236")]),createBaseVNode("p",null,[_hoisted_16,_hoisted_17,createBaseVNode("a",{target:"_blank",href:unref(I)},toDisplayString(unref(I)),9,_hoisted_18),_hoisted_19,createBaseVNode("span",{class:"copy",onClick:$[1]||($[1]=Y=>L(unref(I)))},"\u590D\u5236")])])):createCommentVNode("",!0)]))}};var App=_export_sfc(_sfc_main,[["__scopeId","data-v-a0a5a1e6"]]);createApp(App).mount("#app");
